<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Lean.Elab.InfoTree.Main</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Lean.Elab.InfoTree.Main";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">InfoTree</span>.<span class="name">Main</span></h2><form action="https://google.com/search" method="get" id="search_form"><input type="hidden" name="sitesearch" value="https://leanprover-community.github.io/mathlib4_docs"></input><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button><button>Google site search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Lean/ReservedNameAction.html">Lean.ReservedNameAction</a></li><li><a href="../../.././Lean/Meta/PPGoal.html">Lean.Meta.PPGoal</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lean.Elab.InfoTree.Main" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.CommandContextInfo.saveNoFileMap"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">CommandContextInfo</span>.<span class="name">saveNoFileMap</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.CommandContextInfo.save"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">CommandContextInfo</span>.<span class="name">save</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.PartialContextInfo.mergeIntoOuter?"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">PartialContextInfo</span>.<span class="name">mergeIntoOuter?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.CompletionInfo.stx"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">CompletionInfo</span>.<span class="name">stx</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.CompletionInfo.lctx"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">CompletionInfo</span>.<span class="name">lctx</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.CustomInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">CustomInfo</span>.<span class="name">format</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.instToFormatCustomInfo"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">instToFormatCustomInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.InfoTree.findInfo?"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">InfoTree</span>.<span class="name">findInfo?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.InfoTree.substitute"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">InfoTree</span>.<span class="name">substitute</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.ContextInfo.runCoreM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">ContextInfo</span>.<span class="name">runCoreM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.ContextInfo.runMetaM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">ContextInfo</span>.<span class="name">runMetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.ContextInfo.toPPContext"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">ContextInfo</span>.<span class="name">toPPContext</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.ContextInfo.ppSyntax"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">ContextInfo</span>.<span class="name">ppSyntax</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.TermInfo.runMetaM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">TermInfo</span>.<span class="name">runMetaM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.TermInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">TermInfo</span>.<span class="name">format</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.CompletionInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">CompletionInfo</span>.<span class="name">format</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.CommandInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">CommandInfo</span>.<span class="name">format</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.OptionInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">OptionInfo</span>.<span class="name">format</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.FieldInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">FieldInfo</span>.<span class="name">format</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.ContextInfo.ppGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">ContextInfo</span>.<span class="name">ppGoals</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.TacticInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">TacticInfo</span>.<span class="name">format</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.MacroExpansionInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">MacroExpansionInfo</span>.<span class="name">format</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.UserWidgetInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">UserWidgetInfo</span>.<span class="name">format</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.FVarAliasInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">FVarAliasInfo</span>.<span class="name">format</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.FieldRedeclInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">FieldRedeclInfo</span>.<span class="name">format</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.OmissionInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">OmissionInfo</span>.<span class="name">format</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Info.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Info</span>.<span class="name">format</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Info.toElabInfo?"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Info</span>.<span class="name">toElabInfo?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Info.updateContext?"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Info</span>.<span class="name">updateContext?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.InfoTree.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">InfoTree</span>.<span class="name">format</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.getResetInfoTrees"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">getResetInfoTrees</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.pushInfoTree"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">pushInfoTree</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.pushInfoLeaf"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">pushInfoLeaf</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.addCompletionInfo"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addCompletionInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.addConstInfo"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addConstInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.realizeGlobalConstNoOverloadWithInfo"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">realizeGlobalConstNoOverloadWithInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.realizeGlobalConstWithInfos"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">realizeGlobalConstWithInfos</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.realizeGlobalNameWithInfos"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">realizeGlobalNameWithInfos</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.withInfoContext'"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">withInfoContext'</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.withInfoTreeContext"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">withInfoTreeContext</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.withInfoContext"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">withInfoContext</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.withSaveInfoContext"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">withSaveInfoContext</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.withSaveParentDeclInfoContext"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">withSaveParentDeclInfoContext</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.getInfoHoleIdAssignment?"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">getInfoHoleIdAssignment?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.assignInfoHoleId"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">assignInfoHoleId</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.withMacroExpansionInfo"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">withMacroExpansionInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.withInfoHole"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">withInfoHole</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.enableInfoTree"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">enableInfoTree</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.withEnableInfoTree"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">withEnableInfoTree</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.getInfoTrees"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">getInfoTrees</span></a></div></nav><main>
<div class="decl" id="Lean.Elab.CommandContextInfo.saveNoFileMap"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L15-L23">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.CommandContextInfo.saveNoFileMap"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">CommandContextInfo</span>.<span class="name">saveNoFileMap</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Environment.html#Lean.MonadEnv">Lean.MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/MetavarContext.html#Lean.MonadMCtx">Lean.MonadMCtx</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.MonadOptions">Lean.MonadOptions</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/ResolveName.html#Lean.MonadResolveName">Lean.MonadResolveName</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Meta.html#Lean.MonadNameGenerator">Lean.MonadNameGenerator</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.CommandContextInfo">Lean.Elab.CommandContextInfo</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.CommandContextInfo.saveNoFileMap" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.CommandContextInfo.save"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L25-L27">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.CommandContextInfo.save"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">CommandContextInfo</span>.<span class="name">save</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Environment.html#Lean.MonadEnv">Lean.MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/MetavarContext.html#Lean.MonadMCtx">Lean.MonadMCtx</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.MonadOptions">Lean.MonadOptions</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/ResolveName.html#Lean.MonadResolveName">Lean.MonadResolveName</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Meta.html#Lean.MonadNameGenerator">Lean.MonadNameGenerator</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Data/Position.html#Lean.MonadFileMap">Lean.MonadFileMap</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.CommandContextInfo">Lean.Elab.CommandContextInfo</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.CommandContextInfo.save" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.PartialContextInfo.mergeIntoOuter?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L41-L50">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.PartialContextInfo.mergeIntoOuter?"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">PartialContextInfo</span>.<span class="name">mergeIntoOuter?</span></a></span><span class="decl_args">
<span class="fn">(inner : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.PartialContextInfo">Lean.Elab.PartialContextInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(outer? : <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a></span></div></div><p>Merges the <code>inner</code> partial context into the <code>outer</code> context s.t. fields of the <code>inner</code> context
overwrite fields of the <code>outer</code> context. Panics if the invariant described in the documentation
for <code>PartialContextInfo</code> is violated.</p><p>When traversing an <code>InfoTree</code>, this function should be used to combine the context of outer
nodes with the partial context of their subtrees. This ensures that the traversal has the context
from the inner node to the root node of the <code>InfoTree</code> available, with partial contexts of
inner nodes taking priority over contexts of outer nodes.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.PartialContextInfo.mergeIntoOuter?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.CompletionInfo.stx"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L52-L60">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.CompletionInfo.stx"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">CompletionInfo</span>.<span class="name">stx</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.CompletionInfo">Lean.Elab.CompletionInfo</a> → <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.CompletionInfo.stx" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.CompletionInfo.lctx"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L66-L71">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.CompletionInfo.lctx"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">CompletionInfo</span>.<span class="name">lctx</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.CompletionInfo">Lean.Elab.CompletionInfo</a> → <a href="../../.././Lean/LocalContext.html#Lean.LocalContext">Lean.LocalContext</a></span></div></div><p>Obtains the <code>LocalContext</code> from this <code>CompletionInfo</code> if available and yields an empty context
otherwise.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.CompletionInfo.lctx" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.CustomInfo.format"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L73-L74">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.CustomInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">CustomInfo</span>.<span class="name">format</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.CustomInfo">Lean.Elab.CustomInfo</a> → <a href="../../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.format</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">let <span class="fn">i</span> := <span class="fn">x</span>;
  <span class="fn"><span class="fn"><span class="fn"><a href="../../.././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a> <span class="fn">&quot;CustomInfo(&quot;</span></span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../../.././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a> <span class="fn"><span class="fn"><span class="fn">i</span>.value</span>.typeName</span></span></span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../../.././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a> <span class="fn">&quot;)&quot;</span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.CustomInfo.format" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.instToFormatCustomInfo"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L76-L76">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.instToFormatCustomInfo"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">instToFormatCustomInfo</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/Format/Basic.html#Std.ToFormat">Lean.ToFormat</a> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.CustomInfo">Lean.Elab.CustomInfo</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.instToFormatCustomInfo">Lean.Elab.instToFormatCustomInfo</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">format</span> := <a href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.CustomInfo.format">Lean.Elab.CustomInfo.format</a> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.InfoTree.findInfo?"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L78-L86">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.InfoTree.findInfo?"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">InfoTree</span>.<span class="name">findInfo?</span></a></span><span class="decl_args">
<span class="fn">(p : <span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.Info">Lean.Elab.Info</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(t : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoTree">Lean.Elab.InfoTree</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.Info">Lean.Elab.Info</a></span></div></div></div></div><div class="decl" id="Lean.Elab.InfoTree.substitute"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L90-L96">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.InfoTree.substitute"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">InfoTree</span>.<span class="name">substitute</span></a></span><span class="decl_args">
<span class="fn">(tree : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoTree">Lean.Elab.InfoTree</a>)</span></span>
<span class="decl_args">
<span class="fn">(assignment : <span class="fn"><a href="../../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap">Lean.PersistentHashMap</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoTree">Lean.Elab.InfoTree</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoTree">Lean.Elab.InfoTree</a></div></div><p>Instantiate the holes on the given <code>tree</code> with the assignment table.
(analogous to instantiating the metavariables in an expression)</p></div></div><div class="decl" id="Lean.Elab.ContextInfo.runCoreM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L99-L108">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.ContextInfo.runCoreM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">ContextInfo</span>.<span class="name">runCoreM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(info : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span></div></div><p>Embeds a <code>CoreM</code> action in <code><a href="../../.././Init/System/IO.html#IO">IO</a></code> by supplying the information stored in <code>info</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.ContextInfo.runCoreM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.ContextInfo.runMetaM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L110-L111">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.ContextInfo.runMetaM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">ContextInfo</span>.<span class="name">runMetaM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(info : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(lctx : <a href="../../.././Lean/LocalContext.html#Lean.LocalContext">Lean.LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.ContextInfo.runMetaM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.ContextInfo.toPPContext"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L113-L115">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.ContextInfo.toPPContext"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">ContextInfo</span>.<span class="name">toPPContext</span></a></span><span class="decl_args">
<span class="fn">(info : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(lctx : <a href="../../.././Lean/LocalContext.html#Lean.LocalContext">Lean.LocalContext</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Util/PPExt.html#Lean.PPContext">Lean.PPContext</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">info</span>.toPPContext</span> <span class="fn">lctx</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">env</span> := <span class="fn"><span class="fn">info</span>.env</span>, <span class="fn">mctx</span> := <span class="fn"><span class="fn">info</span>.mctx</span>, <span class="fn">lctx</span> := <span class="fn">lctx</span>, <span class="fn">opts</span> := <span class="fn"><span class="fn">info</span>.options</span>, <span class="fn">currNamespace</span> := <span class="fn"><span class="fn">info</span>.currNamespace</span>,
    <span class="fn">openDecls</span> := <span class="fn"><span class="fn">info</span>.openDecls</span> }</span></span></li></ul></details><details id="instances-for-list-Lean.Elab.ContextInfo.toPPContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.ContextInfo.ppSyntax"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L117-L118">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.ContextInfo.ppSyntax"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">ContextInfo</span>.<span class="name">ppSyntax</span></a></span><span class="decl_args">
<span class="fn">(info : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(lctx : <a href="../../.././Lean/LocalContext.html#Lean.LocalContext">Lean.LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(stx : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <a href="../../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">info</span>.ppSyntax</span> <span class="fn">lctx</span> <span class="fn">stx</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lean/Util/PPExt.html#Lean.ppTerm">Lean.ppTerm</a> <span class="fn">(<span class="fn"><span class="fn">info</span>.toPPContext</span> <span class="fn">lctx</span>)</span> <span class="fn">{ <span class="fn">raw</span> := <span class="fn">stx</span> }</span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.ContextInfo.ppSyntax" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.TermInfo.runMetaM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L137-L138">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.TermInfo.runMetaM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">TermInfo</span>.<span class="name">runMetaM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(info : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.TermInfo">Lean.Elab.TermInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(ctx : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">info</span>.runMetaM</span> <span class="fn">ctx</span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">ctx</span>.runMetaM</span> <span class="fn"><span class="fn">info</span>.lctx</span> <span class="fn">x</span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.TermInfo.runMetaM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.TermInfo.format"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L140-L146">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.TermInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">TermInfo</span>.<span class="name">format</span></a></span><span class="decl_args">
<span class="fn">(ctx : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(info : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.TermInfo">Lean.Elab.TermInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <a href="../../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.TermInfo.format" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.CompletionInfo.format"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L148-L152">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.CompletionInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">CompletionInfo</span>.<span class="name">format</span></a></span><span class="decl_args">
<span class="fn">(ctx : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(info : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.CompletionInfo">Lean.Elab.CompletionInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <a href="../../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.CompletionInfo.format" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.CommandInfo.format"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L154-L155">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.CommandInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">CommandInfo</span>.<span class="name">format</span></a></span><span class="decl_args">
<span class="fn">(ctx : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(info : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.CommandInfo">Lean.Elab.CommandInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <a href="../../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.CommandInfo.format">Lean.Elab.CommandInfo.format</a> <span class="fn">ctx</span> <span class="fn">info</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn"><span class="fn"><a href="../../.././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a> <span class="fn">&quot;command @ &quot;</span></span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../../.././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a> <span class="fn">(<a href="../../.././Lean/Elab/InfoTree/Main.html#_private.Lean.Elab.InfoTree.Main.0.Lean.Elab.formatElabInfo">Lean.Elab.formatElabInfo</a> <span class="fn">ctx</span> <span class="fn"><span class="fn">info</span>.toElabInfo</span>)</span></span></span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../../.././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a> <span class="fn">&quot;&quot;</span></span>)</span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.CommandInfo.format" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.OptionInfo.format"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L157-L158">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.OptionInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">OptionInfo</span>.<span class="name">format</span></a></span><span class="decl_args">
<span class="fn">(ctx : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(info : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.OptionInfo">Lean.Elab.OptionInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <a href="../../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.OptionInfo.format" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.FieldInfo.format"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L160-L162">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.FieldInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">FieldInfo</span>.<span class="name">format</span></a></span><span class="decl_args">
<span class="fn">(ctx : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(info : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.FieldInfo">Lean.Elab.FieldInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <a href="../../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.FieldInfo.format" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.ContextInfo.ppGoals"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L164-L168">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.ContextInfo.ppGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">ContextInfo</span>.<span class="name">ppGoals</span></a></span><span class="decl_args">
<span class="fn">(ctx : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(goals : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <a href="../../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.ContextInfo.ppGoals" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.TacticInfo.format"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L170-L175">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.TacticInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">TacticInfo</span>.<span class="name">format</span></a></span><span class="decl_args">
<span class="fn">(ctx : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(info : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.TacticInfo">Lean.Elab.TacticInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <a href="../../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.TacticInfo.format" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.MacroExpansionInfo.format"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L177-L180">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.MacroExpansionInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">MacroExpansionInfo</span>.<span class="name">format</span></a></span><span class="decl_args">
<span class="fn">(ctx : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(info : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MacroExpansionInfo">Lean.Elab.MacroExpansionInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <a href="../../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.MacroExpansionInfo.format" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.UserWidgetInfo.format"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L182-L183">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.UserWidgetInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">UserWidgetInfo</span>.<span class="name">format</span></a></span><span class="decl_args">
<span class="fn">(info : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.UserWidgetInfo">Lean.Elab.UserWidgetInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.UserWidgetInfo.format" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.FVarAliasInfo.format"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L185-L186">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.FVarAliasInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">FVarAliasInfo</span>.<span class="name">format</span></a></span><span class="decl_args">
<span class="fn">(info : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.FVarAliasInfo">Lean.Elab.FVarAliasInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">info</span>.format</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><a href="../../.././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a> <span class="fn">&quot;FVarAlias &quot;</span></span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../../.././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a> <span class="fn"><span class="fn"><span class="fn">info</span>.userName</span>.eraseMacroScopes</span></span></span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../../.././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a> <span class="fn">&quot;&quot;</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.FVarAliasInfo.format" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.FieldRedeclInfo.format"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L188-L189">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.FieldRedeclInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">FieldRedeclInfo</span>.<span class="name">format</span></a></span><span class="decl_args">
<span class="fn">(ctx : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(info : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.FieldRedeclInfo">Lean.Elab.FieldRedeclInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.FieldRedeclInfo.format">Lean.Elab.FieldRedeclInfo.format</a> <span class="fn">ctx</span> <span class="fn">info</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn"><a href="../../.././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a> <span class="fn">&quot;FieldRedecl @ &quot;</span></span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../../.././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a> <span class="fn">(<a href="../../.././Lean/Elab/InfoTree/Main.html#_private.Lean.Elab.InfoTree.Main.0.Lean.Elab.formatStxRange">Lean.Elab.formatStxRange</a> <span class="fn">ctx</span> <span class="fn"><span class="fn">info</span>.stx</span>)</span></span></span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../../.././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a> <span class="fn">&quot;&quot;</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.FieldRedeclInfo.format" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.OmissionInfo.format"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L191-L192">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.OmissionInfo.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">OmissionInfo</span>.<span class="name">format</span></a></span><span class="decl_args">
<span class="fn">(ctx : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(info : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.OmissionInfo">Lean.Elab.OmissionInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <a href="../../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.OmissionInfo.format" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Info.format"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L194-L206">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.Info.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Info</span>.<span class="name">format</span></a></span><span class="decl_args">
<span class="fn">(ctx : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.Info">Lean.Elab.Info</a> → <span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <a href="../../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Info.format" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Info.toElabInfo?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L208-L220">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.Info.toElabInfo?"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Info</span>.<span class="name">toElabInfo?</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.Info">Lean.Elab.Info</a> → <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ElabInfo">Lean.Elab.ElabInfo</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Info.toElabInfo?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Info.updateContext?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L236-L238">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.Info.updateContext?"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Info</span>.<span class="name">updateContext?</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a></span> → <span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.Info">Lean.Elab.Info</a> → <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a></span></span></span></div></div><p>Helper function for propagating the tactic metavariable context to its children nodes.
We need this function because we preserve <code>TacticInfo</code> nodes during backtracking <em>and</em> their
children. Moreover, we backtrack the metavariable context to undo metavariable assignments.
<code>TacticInfo</code> nodes save the metavariable context before/after the tactic application, and
can be pretty printed without any extra information. This is not the case for <code>TermInfo</code> nodes.
Without this function, the formatting method would often fail when processing <code>TermInfo</code> nodes
that are children of <code>TacticInfo</code> nodes that have been preserved during backtracking.
Saving the metavariable context at <code>TermInfo</code> nodes is also not a good option because
at <code>TermInfo</code> creation time, the metavariable context often miss information, e.g.,
a TC problem has not been resolved, a postponed subterm has not been elaborated, etc.</p><p>See <code>Term.SavedState.restore</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Info.updateContext?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.InfoTree.format"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L240-L252">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.InfoTree.format"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">InfoTree</span>.<span class="name">format</span></a></span><span class="decl_args">
<span class="fn">(tree : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoTree">Lean.Elab.InfoTree</a>)</span></span>
<span class="decl_args">
<span class="fn">(ctx? : <span class="fn"><a href="../../.././Init/Prelude.html#optParam">optParam</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.ContextInfo">Lean.Elab.ContextInfo</a>)</span> <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <a href="../../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></span></div></div></div></div><div class="decl" id="Lean.Elab.getResetInfoTrees"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L261-L264">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.getResetInfoTrees"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">getResetInfoTrees</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../.././Lean/Data/PersistentArray.html#Lean.PersistentArray">Lean.PersistentArray</a> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoTree">Lean.Elab.InfoTree</a>)</span></span></div></div><p>Returns the current array of InfoTrees and resets it to an empty array.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.getResetInfoTrees" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.pushInfoTree"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L266-L268">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.pushInfoTree"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">pushInfoTree</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(t : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoTree">Lean.Elab.InfoTree</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.pushInfoTree" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.pushInfoLeaf"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L270-L272">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.pushInfoLeaf"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">pushInfoLeaf</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(t : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.Info">Lean.Elab.Info</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.pushInfoLeaf" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.addCompletionInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L274-L275">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.addCompletionInfo"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addCompletionInfo</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(info : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.CompletionInfo">Lean.Elab.CompletionInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.addCompletionInfo">Lean.Elab.addCompletionInfo</a> <span class="fn">info</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.pushInfoLeaf">Lean.Elab.pushInfoLeaf</a> <span class="fn">(<a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.Info.ofCompletionInfo">Lean.Elab.Info.ofCompletionInfo</a> <span class="fn">info</span>)</span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.addCompletionInfo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.addConstInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L277-L285">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.addConstInfo"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addConstInfo</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Environment.html#Lean.MonadEnv">Lean.MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Exception.html#Lean.MonadError">Lean.MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(stx : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(n : <a href="../../.././Init/Prelude.html#Lean.Name">Lake.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(expectedType? : <span class="fn"><a href="../../.././Init/Prelude.html#optParam">optParam</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span> <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.addConstInfo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.realizeGlobalConstNoOverloadWithInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L291-L296">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.realizeGlobalConstNoOverloadWithInfo"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">realizeGlobalConstNoOverloadWithInfo</span></a></span><span class="decl_args">
<span class="fn">(id : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(expectedType? : <span class="fn"><a href="../../.././Init/Prelude.html#optParam">optParam</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span> <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <a href="../../.././Init/Prelude.html#Lean.Name">Lake.Name</a></span></div></div><p>This does the same job as <code>realizeGlobalConstNoOverload</code>; resolving an identifier
syntax to a unique fully resolved name or throwing if there are ambiguities.
But also adds this resolved name to the infotree. This means that when you hover
over a name in the sourcefile you will see the fully resolved name in the hover info.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.realizeGlobalConstNoOverloadWithInfo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.realizeGlobalConstWithInfos"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L299-L304">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.realizeGlobalConstWithInfos"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">realizeGlobalConstWithInfos</span></a></span><span class="decl_args">
<span class="fn">(id : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(expectedType? : <span class="fn"><a href="../../.././Init/Prelude.html#optParam">optParam</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span> <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Lean.Name">Lake.Name</a>)</span></span></div></div><p>Similar to <code><a href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.realizeGlobalConstNoOverloadWithInfo">realizeGlobalConstNoOverloadWithInfo</a></code>, except if there are multiple name resolutions then it returns them as a list.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.realizeGlobalConstWithInfos" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.realizeGlobalNameWithInfos"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L307-L312">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.realizeGlobalNameWithInfos"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">realizeGlobalNameWithInfos</span></a></span><span class="decl_args">
<span class="fn">(ref : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(id : <a href="../../.././Init/Prelude.html#Lean.Name">Lake.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Lean.Name">Lake.Name</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#String">String</a></span>)</span>)</span></span></div></div><p>Similar to <code>realizeGlobalName</code>, but it also adds the resolved name to the info tree.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.realizeGlobalNameWithInfos" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.withInfoContext'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L320-L333">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.withInfoContext'"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">withInfoContext'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(mkInfo : <span class="fn"><span class="fn">α</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.Info">Lean.Elab.Info</a> <a href="../../.././Init/Core.html#Sum">⊕</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Use this to descend a node on the infotree that is being built.</p><p>It saves the current list of trees <code>t₀</code> and resets it and then runs <code>x &gt;&gt;= mkInfo</code>, producing either an <code>i : Info</code> or a hole id.
Running <code>x &gt;&gt;= mkInfo</code> will modify the trees state and produce a new list of trees <code>t₁</code>.
In the <code>i : Info</code> case, <code>t₁</code> become the children of a node <code>node i t₁</code> that is appended to <code>t₀</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.withInfoContext'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.withInfoTreeContext"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L337-L345">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.withInfoTreeContext"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">withInfoTreeContext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(mkInfoTree : <span class="fn"><span class="fn"><a href="../../.././Lean/Data/PersistentArray.html#Lean.PersistentArray">Lean.PersistentArray</a> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoTree">Lean.Elab.InfoTree</a></span> → <span class="fn"><span class="fn">m</span> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoTree">Lean.Elab.InfoTree</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Saves the current list of trees <code>t₀</code>, runs <code>x</code> to produce a new tree list <code>t₁</code> and
runs <code>mkInfoTree t₁</code> to get <code>n : InfoTree</code> and then restores the trees to be <code>t₀ ++ [n]</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.withInfoTreeContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.withInfoContext"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L348-L349">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.withInfoContext"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">withInfoContext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(mkInfo : <span class="fn"><span class="fn">m</span> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.Info">Lean.Elab.Info</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Run <code>x</code> as a new child infotree node with header given by <code>mkInfo</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.withInfoContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.withSaveInfoContext"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L374-L385">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.withSaveInfoContext"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">withSaveInfoContext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Meta.html#Lean.MonadNameGenerator">Lean.MonadNameGenerator</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Environment.html#Lean.MonadEnv">Lean.MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.MonadOptions">Lean.MonadOptions</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/MetavarContext.html#Lean.MonadMCtx">Lean.MonadMCtx</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/ResolveName.html#Lean.MonadResolveName">Lean.MonadResolveName</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Data/Position.html#Lean.MonadFileMap">Lean.MonadFileMap</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Resets the trees state <code>t₀</code>, runs <code>x</code> to produce a new trees state <code>t₁</code> and sets the state to be
<code>t₀ ++ (InfoTree.context (PartialContextInfo.commandCtx Γ) &lt;$&gt; t₁)</code> where <code>Γ</code> is the context derived
from the monad state.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.withSaveInfoContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.withSaveParentDeclInfoContext"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L392-L396">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.withSaveParentDeclInfoContext"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">withSaveParentDeclInfoContext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadParentDecl">Lean.Elab.MonadParentDecl</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Resets the trees state <code>t₀</code>, runs <code>x</code> to produce a new trees state <code>t₁</code> and sets the state to be
<code>t₀ ++ (InfoTree.context (PartialContextInfo.parentDeclCtx Γ) &lt;$&gt; t₁)</code> where <code>Γ</code> is the parent decl
name provided by <code>MonadParentDecl m</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.withSaveParentDeclInfoContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.getInfoHoleIdAssignment?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L398-L399">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.getInfoHoleIdAssignment?"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">getInfoHoleIdAssignment?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(mvarId : <a href="../../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoTree">Lean.Elab.InfoTree</a>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.getInfoHoleIdAssignment?">Lean.Elab.getInfoHoleIdAssignment?</a> <span class="fn">mvarId</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn">Lean.Elab.getInfoState</span>
  <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn"><span class="fn">__do_lift</span>.assignment</span>[<span class="fn">mvarId</span>]</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.getInfoHoleIdAssignment?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.assignInfoHoleId"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L401-L403">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.assignInfoHoleId"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">assignInfoHoleId</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(mvarId : <a href="../../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(infoTree : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoTree">Lean.Elab.InfoTree</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.assignInfoHoleId" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.withMacroExpansionInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L406-L412">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.withMacroExpansionInfo"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">withMacroExpansionInfo</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/LocalContext.html#Lean.MonadLCtx">Lean.MonadLCtx</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(stx : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(output : <a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.withMacroExpansionInfo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.withInfoHole"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L414-L424">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.withInfoHole"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">withInfoHole</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(mvarId : <a href="../../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.withInfoHole" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.enableInfoTree"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L426-L427">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.enableInfoTree"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">enableInfoTree</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(flag : <span class="fn"><a href="../../.././Init/Prelude.html#optParam">optParam</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.enableInfoTree">Lean.Elab.enableInfoTree</a> <span class="fn">flag</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree.modifyInfoState">Lean.Elab.modifyInfoState</a> <span class="fn">fun (<span class="fn">s</span> : <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoState">Lean.Elab.InfoState</a>) =&gt;
    <span class="fn">{ <span class="fn">enabled</span> := <span class="fn">flag</span>, <span class="fn">assignment</span> := <span class="fn"><span class="fn">s</span>.assignment</span>, <span class="fn">trees</span> := <span class="fn"><span class="fn">s</span>.trees</span> }</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.enableInfoTree" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.withEnableInfoTree"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L429-L435">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.withEnableInfoTree"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">withEnableInfoTree</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Control/Except.html#MonadFinally">MonadFinally</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(flag : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.withEnableInfoTree" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.getInfoTrees"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Elab/InfoTree/Main.lean#L437-L438">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.getInfoTrees"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">getInfoTrees</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../.././Lean/Data/PersistentArray.html#Lean.PersistentArray">Lean.PersistentArray</a> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoTree">Lean.Elab.InfoTree</a>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Elab.getInfoTrees</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn">Lean.Elab.getInfoState</span>
  <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.trees</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.getInfoTrees" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>