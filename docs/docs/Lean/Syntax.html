<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href=".././style.css"></link><link rel="icon" href=".././favicon.svg"></link><link rel="mask-icon" href=".././favicon.svg" color="#000000"></link><link rel="prefetch" href=".././/declarations/declaration-data.bmp" as="image"></link><title>Lean.Syntax</title><script defer="true" src=".././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT=".././";</script><script>const MODULE_NAME="Lean.Syntax";</script><script type="module" src=".././jump-src.js"></script><script type="module" src=".././search.js"></script><script type="module" src=".././expand-nav.js"></script><script type="module" src=".././how-about.js"></script><script type="module" src=".././instances.js"></script><script type="module" src=".././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Lean</span>.<span class="name">Syntax</span></h2><form action="https://google.com/search" method="get" id="search_form"><input type="hidden" name="sitesearch" value="https://leanprover-community.github.io/mathlib4_docs"></input><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='.././search.html';">Search</button><button>Google site search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href=".././Init/Data/Hashable.html">Init.Data.Hashable</a></li><li><a href=".././Init/Data/Range.html">Init.Data.Range</a></li><li><a href=".././Lean/Data/Format.html">Lean.Data.Format</a></li><li><a href=".././Lean/Data/Name.html">Lean.Data.Name</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lean.Syntax" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#String.Range"><span class="name">String</span>.<span class="name">Range</span></a></div><div class="nav_link"><a class="break_within" href="#String.instInhabitedRange"><span class="name">String</span>.<span class="name">instInhabitedRange</span></a></div><div class="nav_link"><a class="break_within" href="#String.instReprRange"><span class="name">String</span>.<span class="name">instReprRange</span></a></div><div class="nav_link"><a class="break_within" href="#String.instBEqRange"><span class="name">String</span>.<span class="name">instBEqRange</span></a></div><div class="nav_link"><a class="break_within" href="#String.instHashableRange"><span class="name">String</span>.<span class="name">instHashableRange</span></a></div><div class="nav_link"><a class="break_within" href="#String.Range.contains"><span class="name">String</span>.<span class="name">Range</span>.<span class="name">contains</span></a></div><div class="nav_link"><a class="break_within" href="#String.Range.includes"><span class="name">String</span>.<span class="name">Range</span>.<span class="name">includes</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.SourceInfo.updateTrailing"><span class="name">Lean</span>.<span class="name">SourceInfo</span>.<span class="name">updateTrailing</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.SourceInfo.getRange?"><span class="name">Lean</span>.<span class="name">SourceInfo</span>.<span class="name">getRange?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instBEqSourceInfo_lean"><span class="name">Lean</span>.<span class="name">instBEqSourceInfo_lean</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.IsNode"><span class="name">Lean</span>.<span class="name">IsNode</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.SyntaxNode"><span class="name">Lean</span>.<span class="name">SyntaxNode</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.unreachIsNodeMissing"><span class="name">Lean</span>.<span class="name">unreachIsNodeMissing</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.unreachIsNodeAtom"><span class="name">Lean</span>.<span class="name">unreachIsNodeAtom</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.unreachIsNodeIdent"><span class="name">Lean</span>.<span class="name">unreachIsNodeIdent</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.isLitKind"><span class="name">Lean</span>.<span class="name">isLitKind</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.SyntaxNode.getKind"><span class="name">Lean</span>.<span class="name">SyntaxNode</span>.<span class="name">getKind</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.SyntaxNode.withArgs"><span class="name">Lean</span>.<span class="name">SyntaxNode</span>.<span class="name">withArgs</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.SyntaxNode.getNumArgs"><span class="name">Lean</span>.<span class="name">SyntaxNode</span>.<span class="name">getNumArgs</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.SyntaxNode.getArg"><span class="name">Lean</span>.<span class="name">SyntaxNode</span>.<span class="name">getArg</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.SyntaxNode.getArgs"><span class="name">Lean</span>.<span class="name">SyntaxNode</span>.<span class="name">getArgs</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.SyntaxNode.modifyArgs"><span class="name">Lean</span>.<span class="name">SyntaxNode</span>.<span class="name">modifyArgs</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.structRangeEq"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">structRangeEq</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.structRangeEqWithTraceReuse"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">structRangeEqWithTraceReuse</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.eqWithInfo"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">eqWithInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.eqWithInfoAndTraceReuse"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">eqWithInfoAndTraceReuse</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.getAtomVal"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getAtomVal</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.setAtomVal"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">setAtomVal</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.ifNode"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">ifNode</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.ifNodeKind"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">ifNodeKind</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.asNode"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">asNode</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.getIdAt"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getIdAt</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.hasIdent"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">hasIdent</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.modifyArgs"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">modifyArgs</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.modifyArg"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">modifyArg</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.replaceM"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">replaceM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.rewriteBottomUpM"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">rewriteBottomUpM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.rewriteBottomUp"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">rewriteBottomUp</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.updateLeading"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">updateLeading</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.updateTrailing"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">updateTrailing</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.identComponents"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">identComponents</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.identComponents.nameComps"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">identComponents</span>.<span class="name">nameComps</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.TopDown"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">TopDown</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.topDown"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">topDown</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.instForInTopDown"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">instForInTopDown</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.instForInTopDown.loop"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">instForInTopDown</span>.<span class="name">loop</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.reprint"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">reprint</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.reprint.reprintLeaf"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">reprint</span>.<span class="name">reprintLeaf</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.hasMissing"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">hasMissing</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.getRange?"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getRange?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.ofRange"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">ofRange</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.Traverser"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Traverser</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.Traverser.fromSyntax"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Traverser</span>.<span class="name">fromSyntax</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.Traverser.setCur"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Traverser</span>.<span class="name">setCur</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.Traverser.down"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Traverser</span>.<span class="name">down</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.Traverser.up"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Traverser</span>.<span class="name">up</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.Traverser.left"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Traverser</span>.<span class="name">left</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.Traverser.right"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Traverser</span>.<span class="name">right</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.MonadTraverser"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">MonadTraverser</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.MonadTraverser.getCur"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">MonadTraverser</span>.<span class="name">getCur</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.MonadTraverser.setCur"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">MonadTraverser</span>.<span class="name">setCur</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.MonadTraverser.goDown"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">MonadTraverser</span>.<span class="name">goDown</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.MonadTraverser.goUp"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">MonadTraverser</span>.<span class="name">goUp</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.MonadTraverser.goLeft"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">MonadTraverser</span>.<span class="name">goLeft</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.MonadTraverser.goRight"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">MonadTraverser</span>.<span class="name">goRight</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.MonadTraverser.getIdx"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">MonadTraverser</span>.<span class="name">getIdx</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.SyntaxNode.getIdAt"><span class="name">Lean</span>.<span class="name">SyntaxNode</span>.<span class="name">getIdAt</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.mkListNode"><span class="name">Lean</span>.<span class="name">mkListNode</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.isQuot"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">isQuot</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.getQuotContent"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getQuotContent</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.isAntiquot"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">isAntiquot</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.isAntiquots"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">isAntiquots</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.getCanonicalAntiquot"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getCanonicalAntiquot</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.mkAntiquotNode"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">mkAntiquotNode</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.isEscapedAntiquot"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">isEscapedAntiquot</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.unescapeAntiquot"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">unescapeAntiquot</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.getAntiquotTerm"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getAntiquotTerm</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.antiquotKind?"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">antiquotKind?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.antiquotKinds"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">antiquotKinds</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.antiquotSpliceKind?"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">antiquotSpliceKind?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.isAntiquotSplice"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">isAntiquotSplice</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.getAntiquotSpliceContents"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getAntiquotSpliceContents</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.getAntiquotSpliceSuffix"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getAntiquotSpliceSuffix</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.mkAntiquotSpliceNode"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">mkAntiquotSpliceNode</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.antiquotSuffixSplice?"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">antiquotSuffixSplice?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.isAntiquotSuffixSplice"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">isAntiquotSuffixSplice</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.getAntiquotSuffixSpliceInner"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getAntiquotSuffixSpliceInner</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.mkAntiquotSuffixSpliceNode"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">mkAntiquotSuffixSpliceNode</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.isTokenAntiquot"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">isTokenAntiquot</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.isAnyAntiquot"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">isAnyAntiquot</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.Stack"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Stack</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.findStack?"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">findStack?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.findStack?.go"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">findStack?</span>.<span class="name">go</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Syntax.Stack.matches"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Stack</span>.<span class="name">matches</span></a></div></nav><main>
<div class="decl" id="String.Range"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L16-L19">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#String.Range"><span class="name">String</span>.<span class="name">Range</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a></div></div><p>A position range inside a string. This type is mostly in combination with syntax trees,
as there might not be a single underlying string in this case that could be used for a <code><a href=".././Init/Prelude.html#Substring">Substring</a></code>.</p><ul class="structure_fields" id="String.Range.mk"><li id="String.Range.start" class="structure_field"><div class="structure_field_info">start : <a href=".././Init/Prelude.html#String.Pos">String.Pos</a></div></li><li id="String.Range.stop" class="structure_field"><div class="structure_field_info">stop : <a href=".././Init/Prelude.html#String.Pos">String.Pos</a></div></li></ul><details id="instances-for-list-String.Range" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="String.instInhabitedRange"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L19-L19">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#String.instInhabitedRange"><span class="name">String</span>.<span class="name">instInhabitedRange</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Inhabited">Inhabited</a> <a href=".././Lean/Syntax.html#String.Range">String.Range</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/Syntax.html#String.instInhabitedRange">String.instInhabitedRange</a> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn">{ <span class="fn">start</span> := <span class="fn">default</span>, <span class="fn">stop</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="String.instReprRange"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L19-L19">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#String.instReprRange"><span class="name">String</span>.<span class="name">instReprRange</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Data/Repr.html#Repr">Repr</a> <a href=".././Lean/Syntax.html#String.Range">String.Range</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/Syntax.html#String.instReprRange">String.instReprRange</a> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">reprPrec</span> := <a href=".././Lean/Syntax.html#_private.Lean.Syntax.0.String.reprRange._@.Lean.Syntax._hyg.37">String.reprRange✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="String.instBEqRange"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L19-L19">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#String.instBEqRange"><span class="name">String</span>.<span class="name">instBEqRange</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#BEq">BEq</a> <a href=".././Lean/Syntax.html#String.Range">String.Range</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/Syntax.html#String.instBEqRange">String.instBEqRange</a> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href=".././Lean/Syntax.html#_private.Lean.Syntax.0.String.beqRange._@.Lean.Syntax._hyg.95">String.beqRange✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="String.instHashableRange"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L19-L19">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#String.instHashableRange"><span class="name">String</span>.<span class="name">instHashableRange</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Hashable">Hashable</a> <a href=".././Lean/Syntax.html#String.Range">String.Range</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/Syntax.html#String.instHashableRange">String.instHashableRange</a> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">hash</span> := <a href=".././Lean/Syntax.html#_private.Lean.Syntax.0.String.hashRange._@.Lean.Syntax._hyg.169">String.hashRange✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="String.Range.contains"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L21-L22">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#String.Range.contains"><span class="name">String</span>.<span class="name">Range</span>.<span class="name">contains</span></a></span><span class="decl_args">
<span class="fn">(r : <a href=".././Lean/Syntax.html#String.Range">String.Range</a>)</span></span>
<span class="decl_args">
<span class="fn">(pos : <a href=".././Init/Prelude.html#String.Pos">String.Pos</a>)</span></span>
<span class="decl_args">
<span class="fn">(includeStop : <span class="fn"><a href=".././Init/Prelude.html#optParam">optParam</a> <a href=".././Init/Prelude.html#Bool">Bool</a> <a href=".././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">r</span>.contains</span> <span class="fn">pos</span> <span class="fn">includeStop</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">(<span class="fn"><a href=".././Init/Prelude.html#Decidable.decide">decide</a> <span class="fn">(<span class="fn"><span class="fn">r</span>.start</span> <a href=".././Init/Prelude.html#LE.le">≤</a> <span class="fn">pos</span>)</span></span> <a href=".././Init/Prelude.html#and">&amp;&amp;</a> <span class="fn">if <span class="fn"><span class="fn">includeStop</span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn"><a href=".././Init/Prelude.html#Decidable.decide">decide</a> <span class="fn">(<span class="fn">pos</span> <a href=".././Init/Prelude.html#LE.le">≤</a> <span class="fn"><span class="fn">r</span>.stop</span>)</span></span> else <span class="fn"><a href=".././Init/Prelude.html#Decidable.decide">decide</a> <span class="fn">(<span class="fn">pos</span> <a href=".././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">r</span>.stop</span>)</span></span></span>)</span></span></li></ul></details><details id="instances-for-list-String.Range.contains" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="String.Range.includes"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L24-L25">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#String.Range.includes"><span class="name">String</span>.<span class="name">Range</span>.<span class="name">includes</span></a></span><span class="decl_args">
<span class="fn">(super : <a href=".././Lean/Syntax.html#String.Range">String.Range</a>)</span></span>
<span class="decl_args">
<span class="fn">(sub : <a href=".././Lean/Syntax.html#String.Range">String.Range</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">super</span>.includes</span> <span class="fn">sub</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">(<span class="fn"><a href=".././Init/Prelude.html#Decidable.decide">decide</a> <span class="fn">(<span class="fn"><span class="fn">super</span>.start</span> <a href=".././Init/Prelude.html#LE.le">≤</a> <span class="fn"><span class="fn">sub</span>.start</span>)</span></span> <a href=".././Init/Prelude.html#and">&amp;&amp;</a> <span class="fn"><a href=".././Init/Prelude.html#Decidable.decide">decide</a> <span class="fn">(<span class="fn"><span class="fn">super</span>.stop</span> <a href=".././Init/Prelude.html#GE.ge">≥</a> <span class="fn"><span class="fn">sub</span>.stop</span>)</span></span>)</span></span></li></ul></details><details id="instances-for-list-String.Range.includes" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.SourceInfo.updateTrailing"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L29-L31">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.SourceInfo.updateTrailing"><span class="name">Lean</span>.<span class="name">SourceInfo</span>.<span class="name">updateTrailing</span></a></span><span class="decl_args">
<span class="fn">(trailing : <a href=".././Init/Prelude.html#Substring">Substring</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Lean.SourceInfo">Lean.SourceInfo</a> → <a href=".././Init/Prelude.html#Lean.SourceInfo">Lean.SourceInfo</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href=".././Lean/Syntax.html#Lean.SourceInfo.updateTrailing">Lean.SourceInfo.updateTrailing</a> <span class="fn">trailing</span> <span class="fn">x</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">x</span> with
  | <span class="fn"><a href=".././Init/Prelude.html#Lean.SourceInfo.original">Lean.SourceInfo.original</a> <span class="fn">leading</span> <span class="fn">pos</span> <span class="fn">trailing_1</span> <span class="fn">endPos</span></span> =&gt; <span class="fn"><a href=".././Init/Prelude.html#Lean.SourceInfo.original">Lean.SourceInfo.original</a> <span class="fn">leading</span> <span class="fn">pos</span> <span class="fn">trailing</span> <span class="fn">endPos</span></span>
  | <span class="fn">info</span> =&gt; <span class="fn">info</span></span></span></li></ul></details><details id="instances-for-list-Lean.SourceInfo.updateTrailing" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.SourceInfo.getRange?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L33-L34">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.SourceInfo.getRange?"><span class="name">Lean</span>.<span class="name">SourceInfo</span>.<span class="name">getRange?</span></a></span><span class="decl_args">
<span class="fn">(canonicalOnly : <span class="fn"><a href=".././Init/Prelude.html#optParam">optParam</a> <a href=".././Init/Prelude.html#Bool">Bool</a> <a href=".././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(info : <a href=".././Init/Prelude.html#Lean.SourceInfo">Lean.SourceInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/Syntax.html#String.Range">String.Range</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href=".././Lean/Syntax.html#Lean.SourceInfo.getRange?">Lean.SourceInfo.getRange?</a> <span class="fn">canonicalOnly</span> <span class="fn">info</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><span class="fn"><span class="fn">info</span>.getPos?</span> <span class="fn">canonicalOnly</span></span>
  let <span class="fn">__do_lift_1</span> ← <span class="fn"><span class="fn"><span class="fn">info</span>.getTailPos?</span> <span class="fn">canonicalOnly</span></span>
  <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">{ <span class="fn">start</span> := <span class="fn">__do_lift</span>, <span class="fn">stop</span> := <span class="fn">__do_lift_1</span> }</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.SourceInfo.getRange?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.instBEqSourceInfo_lean"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L36-L36">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.instBEqSourceInfo_lean"><span class="name">Lean</span>.<span class="name">instBEqSourceInfo_lean</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#BEq">BEq</a> <a href=".././Init/Prelude.html#Lean.SourceInfo">Lean.SourceInfo</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/Syntax.html#Lean.instBEqSourceInfo_lean">Lean.instBEqSourceInfo_lean</a> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href=".././Lean/Syntax.html#_private.Lean.Syntax.0.Lean.beqSourceInfo._@.Lean.Syntax._hyg.391">Lean.beqSourceInfo✝</a> }</span></span></li></ul></details></div></div><div class="mod_doc"><h1 class="markdown-heading" id="Syntax-AST">Syntax AST <a class="hover-link" href="#Syntax-AST">#</a></h1></div><div class="decl" id="Lean.IsNode"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L40-L41">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.IsNode"><span class="name">Lean</span>.<span class="name">IsNode</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././foundational_types.html">Prop</a></span></div></div><ul class="constructors"><li class="constructor" id="Lean.IsNode.mk">mk: <span class="fn">∀ (<span class="fn">info</span> : <a href=".././Init/Prelude.html#Lean.SourceInfo">Lean.SourceInfo</a>) (<span class="fn">kind</span> : <a href=".././Init/Prelude.html#Lean.SyntaxNodeKind">Lean.SyntaxNodeKind</a>) (<span class="fn">args</span> : <span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span>),
  <span class="fn"><a href=".././Lean/Syntax.html#Lean.IsNode">Lean.IsNode</a> <span class="fn">(<a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">info</span> <span class="fn">kind</span> <span class="fn">args</span>)</span></span></span></li></ul><details id="instances-for-list-Lean.IsNode" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.SyntaxNode"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L43-L43">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.SyntaxNode"><span class="name">Lean</span>.<span class="name">SyntaxNode</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/Syntax.html#Lean.SyntaxNode">Lean.SyntaxNode</a> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">s</span> : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> // <span class="fn"><a href=".././Lean/Syntax.html#Lean.IsNode">Lean.IsNode</a> <span class="fn">s</span></span> }</span></span></li></ul></details><details id="instances-for-list-Lean.SyntaxNode" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.unreachIsNodeMissing"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L45-L45">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.unreachIsNodeMissing"><span class="name">Lean</span>.<span class="name">unreachIsNodeMissing</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{β : <a href=".././foundational_types.html">Sort</a> u_1}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href=".././Lean/Syntax.html#Lean.IsNode">Lean.IsNode</a> <a href=".././Init/Prelude.html#Lean.Syntax.missing">Lean.Syntax.missing</a></span> → <span class="fn">β</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href=".././Lean/Syntax.html#Lean.unreachIsNodeMissing">Lean.unreachIsNodeMissing</a> <span class="fn">a</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">nomatch <span class="fn">a</span></span></span></li></ul></details><details id="instances-for-list-Lean.unreachIsNodeMissing" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.unreachIsNodeAtom"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L46-L46">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.unreachIsNodeAtom"><span class="name">Lean</span>.<span class="name">unreachIsNodeAtom</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{β : <a href=".././foundational_types.html">Sort</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{info : <a href=".././Init/Prelude.html#Lean.SourceInfo">Lean.SourceInfo</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{val : <a href=".././Init/Prelude.html#String">String</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href=".././Lean/Syntax.html#Lean.IsNode">Lean.IsNode</a> <span class="fn">(<a href=".././Init/Prelude.html#Lean.Syntax.atom">Lean.Syntax.atom</a> <span class="fn">info</span> <span class="fn">val</span>)</span></span> → <span class="fn">β</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href=".././Lean/Syntax.html#Lean.unreachIsNodeAtom">Lean.unreachIsNodeAtom</a> <span class="fn">a</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">nomatch <span class="fn">a</span></span></span></li></ul></details><details id="instances-for-list-Lean.unreachIsNodeAtom" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.unreachIsNodeIdent"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L47-L47">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.unreachIsNodeIdent"><span class="name">Lean</span>.<span class="name">unreachIsNodeIdent</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{β : <a href=".././foundational_types.html">Sort</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{info : <a href=".././Init/Prelude.html#Lean.SourceInfo">Lean.SourceInfo</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{rawVal : <a href=".././Init/Prelude.html#Substring">Substring</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{val : <a href=".././Init/Prelude.html#Lean.Name">Lake.Name</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{preresolved : <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Lean.Syntax.Preresolved">Lean.Syntax.Preresolved</a></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href=".././Lean/Syntax.html#Lean.IsNode">Lean.IsNode</a> <span class="fn">(<a href=".././Init/Prelude.html#Lean.Syntax.ident">Lean.Syntax.ident</a> <span class="fn">info</span> <span class="fn">rawVal</span> <span class="fn">val</span> <span class="fn">preresolved</span>)</span></span> → <span class="fn">β</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href=".././Lean/Syntax.html#Lean.unreachIsNodeIdent">Lean.unreachIsNodeIdent</a> <span class="fn">a</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">nomatch <span class="fn">a</span></span></span></li></ul></details><details id="instances-for-list-Lean.unreachIsNodeIdent" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.isLitKind"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L49-L50">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.isLitKind"><span class="name">Lean</span>.<span class="name">isLitKind</span></a></span><span class="decl_args">
<span class="fn">(k : <a href=".././Init/Prelude.html#Lean.SyntaxNodeKind">Lean.SyntaxNodeKind</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href=".././Lean/Syntax.html#Lean.isLitKind">Lean.isLitKind</a> <span class="fn">k</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">(<span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">k</span> <a href=".././Init/Prelude.html#BEq.beq">==</a> <a href=".././Init/Prelude.html#Lean.strLitKind">Lean.strLitKind</a></span> <a href=".././Init/Prelude.html#or">||</a> <span class="fn"><span class="fn">k</span> <a href=".././Init/Prelude.html#BEq.beq">==</a> <a href=".././Init/Prelude.html#Lean.numLitKind">Lean.numLitKind</a></span></span> <a href=".././Init/Prelude.html#or">||</a> <span class="fn"><span class="fn">k</span> <a href=".././Init/Prelude.html#BEq.beq">==</a> <a href=".././Init/Prelude.html#Lean.charLitKind">Lean.charLitKind</a></span></span> <a href=".././Init/Prelude.html#or">||</a> <span class="fn"><span class="fn">k</span> <a href=".././Init/Prelude.html#BEq.beq">==</a> <a href=".././Init/Prelude.html#Lean.nameLitKind">Lean.nameLitKind</a></span></span> <a href=".././Init/Prelude.html#or">||</a>     <span class="fn"><span class="fn">k</span> <a href=".././Init/Prelude.html#BEq.beq">==</a> <a href=".././Init/Prelude.html#Lean.scientificLitKind">Lean.scientificLitKind</a></span>)</span></span></li></ul></details><details id="instances-for-list-Lean.isLitKind" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.SyntaxNode.getKind"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L54-L59">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.SyntaxNode.getKind"><span class="name">Lean</span>.<span class="name">SyntaxNode</span>.<span class="name">getKind</span></a></span><span class="decl_args">
<span class="fn">(n : <a href=".././Lean/Syntax.html#Lean.SyntaxNode">Lean.SyntaxNode</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.SyntaxNodeKind">Lean.SyntaxNodeKind</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.SyntaxNode.getKind" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.SyntaxNode.withArgs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L61-L66">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.SyntaxNode.withArgs"><span class="name">Lean</span>.<span class="name">SyntaxNode</span>.<span class="name">withArgs</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{β : <a href=".././foundational_types.html">Sort</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(n : <a href=".././Lean/Syntax.html#Lean.SyntaxNode">Lean.SyntaxNode</a>)</span></span>
<span class="decl_args">
<span class="fn">(fn : <span class="fn"><span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span> → <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">β</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.SyntaxNode.withArgs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.SyntaxNode.getNumArgs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L68-L69">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.SyntaxNode.getNumArgs"><span class="name">Lean</span>.<span class="name">SyntaxNode</span>.<span class="name">getNumArgs</span></a></span><span class="decl_args">
<span class="fn">(n : <a href=".././Lean/Syntax.html#Lean.SyntaxNode">Lean.SyntaxNode</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Nat">Nat</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">n</span>.getNumArgs</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">n</span>.withArgs</span> <span class="fn">fun (<span class="fn">args</span> : <span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span>) =&gt; <span class="fn"><span class="fn">args</span>.size</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.SyntaxNode.getNumArgs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.SyntaxNode.getArg"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L71-L72">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.SyntaxNode.getArg"><span class="name">Lean</span>.<span class="name">SyntaxNode</span>.<span class="name">getArg</span></a></span><span class="decl_args">
<span class="fn">(n : <a href=".././Lean/Syntax.html#Lean.SyntaxNode">Lean.SyntaxNode</a>)</span></span>
<span class="decl_args">
<span class="fn">(i : <a href=".././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">n</span>.getArg</span> <span class="fn">i</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">n</span>.withArgs</span> <span class="fn">fun (<span class="fn">args</span> : <span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span>) =&gt; <span class="fn"><span class="fn"><span class="fn">args</span>.get!</span> <span class="fn">i</span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.SyntaxNode.getArg" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.SyntaxNode.getArgs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L74-L75">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.SyntaxNode.getArgs"><span class="name">Lean</span>.<span class="name">SyntaxNode</span>.<span class="name">getArgs</span></a></span><span class="decl_args">
<span class="fn">(n : <a href=".././Lean/Syntax.html#Lean.SyntaxNode">Lean.SyntaxNode</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">n</span>.getArgs</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">n</span>.withArgs</span> <span class="fn">fun (<span class="fn">args</span> : <span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span>) =&gt; <span class="fn">args</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.SyntaxNode.getArgs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.SyntaxNode.modifyArgs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L77-L82">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.SyntaxNode.modifyArgs"><span class="name">Lean</span>.<span class="name">SyntaxNode</span>.<span class="name">modifyArgs</span></a></span><span class="decl_args">
<span class="fn">(n : <a href=".././Lean/Syntax.html#Lean.SyntaxNode">Lean.SyntaxNode</a>)</span></span>
<span class="decl_args">
<span class="fn">(fn : <span class="fn"><span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span> → <span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.SyntaxNode.modifyArgs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.structRangeEq"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L95-L103">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.structRangeEq"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">structRangeEq</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Compares syntax structures and position ranges, but not whitespace. We generally assume that if
syntax trees equal in this way generate the same elaboration output, including positions contained
in e.g. diagnostics and the info tree. However, as we have a few request handlers such as <code>goalsAt?</code>
that are sensitive to whitespace information in the info tree, we currently use <code><a href=".././Lean/Syntax.html#Lean.Syntax.eqWithInfo">eqWithInfo</a></code> instead
for reuse checks.</p></div></div><div class="decl" id="Lean.Syntax.structRangeEqWithTraceReuse"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L106-L116">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.structRangeEqWithTraceReuse"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">structRangeEqWithTraceReuse</span></a></span><span class="decl_args">
<span class="fn">(opts : <a href=".././Lean/Data/Options.html#Lean.Options">Lean.Options</a>)</span></span>
<span class="decl_args">
<span class="fn">(stx1 : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(stx2 : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><p>Like <code><a href=".././Lean/Syntax.html#Lean.Syntax.structRangeEq">structRangeEq</a></code> but prints trace on failure if <code>trace.Elab.reuse</code> is activated.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Syntax.structRangeEqWithTraceReuse" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.eqWithInfo"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L120-L127">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.eqWithInfo"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">eqWithInfo</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Full comparison of syntax structures and source infos.</p></div></div><div class="decl" id="Lean.Syntax.eqWithInfoAndTraceReuse"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L130-L140">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.eqWithInfoAndTraceReuse"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">eqWithInfoAndTraceReuse</span></a></span><span class="decl_args">
<span class="fn">(opts : <a href=".././Lean/Data/Options.html#Lean.Options">Lean.Options</a>)</span></span>
<span class="decl_args">
<span class="fn">(stx1 : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(stx2 : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><p>Like <code><a href=".././Lean/Syntax.html#Lean.Syntax.eqWithInfo">eqWithInfo</a></code> but prints trace on failure if <code>trace.Elab.reuse</code> is activated.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Syntax.eqWithInfoAndTraceReuse" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.getAtomVal"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L142-L144">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.getAtomVal"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getAtomVal</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././Init/Prelude.html#String">String</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.getAtomVal</span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">x</span> with
  | <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.atom">Lean.Syntax.atom</a> <span class="fn">info</span> <span class="fn">val</span></span> =&gt; <span class="fn">val</span>
  | <span class="fn">x</span> =&gt; <span class="fn">&quot;&quot;</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.getAtomVal" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.setAtomVal"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L146-L148">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.setAtomVal"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">setAtomVal</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><a href=".././Init/Prelude.html#String">String</a> → <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">x✝</span>.setAtomVal</span> <span class="fn">x</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">x✝</span>, <span class="fn">x</span> with
  | <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.atom">Lean.Syntax.atom</a> <span class="fn">info</span> <span class="fn">val</span></span>, <span class="fn">v</span> =&gt; <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.atom">Lean.Syntax.atom</a> <span class="fn">info</span> <span class="fn">v</span></span>
  | <span class="fn">stx</span>, <span class="fn">x</span> =&gt; <span class="fn">stx</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.setAtomVal" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.ifNode"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L150-L153">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.ifNode"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">ifNode</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{β : <a href=".././foundational_types.html">Sort</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(hyes : <span class="fn"><a href=".././Lean/Syntax.html#Lean.SyntaxNode">Lean.SyntaxNode</a> → <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(hno : <span class="fn"><a href=".././Init/Prelude.html#Unit">Unit</a> → <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">β</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">stx</span>.ifNode</span> <span class="fn">hyes</span> <span class="fn">hno</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">stx</span> with
  | <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">i</span> <span class="fn">k</span> <span class="fn">args</span></span> =&gt; <span class="fn"><span class="fn">hyes</span> <span class="fn">⟨<span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">i</span> <span class="fn">k</span> <span class="fn">args</span></span>, <span class="fn">⋯</span>⟩</span></span>
  | <span class="fn">x</span> =&gt; <span class="fn"><span class="fn">hno</span> <a href=".././Init/Prelude.html#Unit.unit">()</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.ifNode" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.ifNodeKind"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L155-L158">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.ifNodeKind"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">ifNodeKind</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{β : <a href=".././foundational_types.html">Sort</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(kind : <a href=".././Init/Prelude.html#Lean.SyntaxNodeKind">Lean.SyntaxNodeKind</a>)</span></span>
<span class="decl_args">
<span class="fn">(hyes : <span class="fn"><a href=".././Lean/Syntax.html#Lean.SyntaxNode">Lean.SyntaxNode</a> → <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(hno : <span class="fn"><a href=".././Init/Prelude.html#Unit">Unit</a> → <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">β</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">stx</span>.ifNodeKind</span> <span class="fn">kind</span> <span class="fn">hyes</span> <span class="fn">hno</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">stx</span> with
  | <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">i</span> <span class="fn">k</span> <span class="fn">args</span></span> =&gt; <span class="fn">if <span class="fn"><span class="fn">(<span class="fn">k</span> <a href=".././Init/Prelude.html#BEq.beq">==</a> <span class="fn">kind</span>)</span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn"><span class="fn">hyes</span> <span class="fn">⟨<span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">i</span> <span class="fn">k</span> <span class="fn">args</span></span>, <span class="fn">⋯</span>⟩</span></span> else <span class="fn"><span class="fn">hno</span> <a href=".././Init/Prelude.html#Unit.unit">()</a></span></span>
  | <span class="fn">x</span> =&gt; <span class="fn"><span class="fn">hno</span> <a href=".././Init/Prelude.html#Unit.unit">()</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.ifNodeKind" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.asNode"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L160-L162">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.asNode"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">asNode</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././Lean/Syntax.html#Lean.SyntaxNode">Lean.SyntaxNode</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.asNode</span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">x</span> with
  | <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">info</span> <span class="fn">kind</span> <span class="fn">args</span></span> =&gt; <span class="fn">⟨<span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">info</span> <span class="fn">kind</span> <span class="fn">args</span></span>, <span class="fn">⋯</span>⟩</span>
  | <span class="fn">x</span> =&gt; <span class="fn">⟨<span class="fn">Lean.mkNullNode</span>, <a href=".././Lean/Syntax.html#Lean.Syntax.asNode.proof_1">Lean.Syntax.asNode.proof_1</a>⟩</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.asNode" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.getIdAt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L164-L165">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.getIdAt"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getIdAt</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(i : <a href=".././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Name">Lake.Name</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">stx</span>.getIdAt</span> <span class="fn">i</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn">stx</span>.getArg</span> <span class="fn">i</span>)</span>.getId</span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.getIdAt" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.hasIdent"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L172-L175">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.hasIdent"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">hasIdent</span></a></span><span class="decl_args">
<span class="fn">(id : <a href=".././Init/Prelude.html#Lean.Name">Lake.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Check for a <code>Syntax.ident</code> of the given name anywhere in the tree.
This is usually a bad idea since it does not check for shadowing bindings,
but in the delaborator we assume that bindings are never shadowed.</p></div></div><div class="decl" id="Lean.Syntax.modifyArgs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L177-L180">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.modifyArgs"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">modifyArgs</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(fn : <span class="fn"><span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span> → <span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">stx</span>.modifyArgs</span> <span class="fn">fn</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">stx</span> with
  | <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">i</span> <span class="fn">k</span> <span class="fn">args</span></span> =&gt; <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">i</span> <span class="fn">k</span> <span class="fn">(<span class="fn">fn</span> <span class="fn">args</span>)</span></span>
  | <span class="fn">stx</span> =&gt; <span class="fn">stx</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.modifyArgs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.modifyArg"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L182-L185">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.modifyArg"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">modifyArg</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(i : <a href=".././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(fn : <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">stx</span>.modifyArg</span> <span class="fn">i</span> <span class="fn">fn</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">stx</span> with
  | <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">info</span> <span class="fn">k</span> <span class="fn">args</span></span> =&gt; <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">info</span> <span class="fn">k</span> <span class="fn">(<span class="fn"><span class="fn">args</span>.modify</span> <span class="fn">i</span> <span class="fn">fn</span>)</span></span>
  | <span class="fn">stx</span> =&gt; <span class="fn">stx</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.modifyArg" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.replaceM"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L187-L194">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.replaceM"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">replaceM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(fn : <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></span></div></div></div></div><div class="decl" id="Lean.Syntax.rewriteBottomUpM"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L196-L200">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.rewriteBottomUpM"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">rewriteBottomUpM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(fn : <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></span></div></div></div></div><div class="decl" id="Lean.Syntax.rewriteBottomUp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L202-L203">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.rewriteBottomUp"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">rewriteBottomUp</span></a></span><span class="decl_args">
<span class="fn">(fn : <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href=".././Lean/Syntax.html#Lean.Syntax.rewriteBottomUp">Lean.Syntax.rewriteBottomUp</a> <span class="fn">fn</span> <span class="fn">stx</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<a href=".././Lean/Syntax.html#Lean.Syntax.rewriteBottomUpM">Lean.Syntax.rewriteBottomUpM</a> <span class="fn">fn</span> <span class="fn">stx</span>)</span>.run</span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.rewriteBottomUp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.updateLeading"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L244-L245">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.updateLeading"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">updateLeading</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></div></div><p>Set <code>SourceInfo.leading</code> according to the trailing stop of the preceding token.
The result is a round-tripping syntax tree IF, in the input syntax tree,</p><ul>
<li>all leading stops, atom contents, and trailing starts are correct</li>
<li>trailing stops are between the trailing start and the next leading stop.</li>
</ul><p>Remark: after parsing, all <code>SourceInfo.leading</code> fields are empty.
The <code>Syntax</code> argument is the output produced by the parser for <code>source</code>.
This function &quot;fixes&quot; the <code>source.leading</code> field.</p><p>Additionally, we try to choose &quot;nicer&quot; splits between leading and trailing stops
according to some heuristics so that e.g. comments are associated to the (intuitively)
correct token.</p><p>Note that the <code>SourceInfo.trailing</code> fields must be correct.
The implementation of this Function relies on this property.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">stx</span>.updateLeading</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Control/State.html#StateT.run'">StateT.run'</a> <span class="fn">(<a href=".././Lean/Syntax.html#Lean.Syntax.replaceM">Lean.Syntax.replaceM</a> <a href=".././Lean/Syntax.html#_private.Lean.Syntax.0.Lean.Syntax.updateLeadingAux">Lean.Syntax.updateLeadingAux</a> <span class="fn">stx</span>)</span> <span class="fn">0</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.updateLeading" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.updateTrailing"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L247-L257">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.updateTrailing"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">updateTrailing</span></a></span><span class="decl_args">
<span class="fn">(trailing : <a href=".././Init/Prelude.html#Substring">Substring</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></div></div></div></div><div class="decl" id="Lean.Syntax.identComponents"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L264-L304">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.identComponents"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">identComponents</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(nFields? : <span class="fn"><a href=".././Init/Prelude.html#optParam">optParam</a> <span class="fn">(<a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Init/Prelude.html#Nat">Nat</a>)</span> <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></div></div><p>Split an <code>ident</code> into its dot-separated components while preserving source info.
Macro scopes are first erased.  For example, <code>`foo.bla.boo._@._hyg.4</code> ↦ <code>[`foo, `bla, `boo]</code>.
If <code>nFields</code> is set, we take that many fields from the end and keep the remaining components
as one name. For example, <code>`foo.bla.boo</code> with <code>(nFields := 1)</code> ↦ <code>[`foo.bla, `boo]</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Syntax.identComponents" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.identComponents.nameComps"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L297-L304">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.identComponents.nameComps"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">identComponents</span>.<span class="name">nameComps</span></a></span><span class="decl_args">
<span class="fn">(n : <a href=".././Init/Prelude.html#Lean.Name">Lake.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(nFields? : <span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#List">List</a> <a href=".././Init/Prelude.html#Lean.Name">Lake.Name</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Syntax.identComponents.nameComps" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.TopDown"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L306-L308">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.TopDown"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">TopDown</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a></div></div><ul class="structure_fields" id="Lean.Syntax.TopDown.mk"><li id="Lean.Syntax.TopDown.firstChoiceOnly" class="structure_field"><div class="structure_field_info">firstChoiceOnly : <a href=".././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Syntax.TopDown.stx" class="structure_field"><div class="structure_field_info">stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></li></ul><details id="instances-for-list-Lean.Syntax.TopDown" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.topDown"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L314-L314">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.topDown"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">topDown</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(firstChoiceOnly : <span class="fn"><a href=".././Init/Prelude.html#optParam">optParam</a> <a href=".././Init/Prelude.html#Bool">Bool</a> <a href=".././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/Syntax.html#Lean.Syntax.TopDown">Lean.Syntax.TopDown</a></div></div><p><code>for _ in stx.<a href=".././Lean/Syntax.html#Lean.Syntax.topDown">topDown</a></code> iterates through each node and leaf in <code><a href=".././Lean/Syntax.html#Lean.Syntax.TopDown.stx">stx</a></code> top-down, left-to-right.
If <code><a href=".././Lean/Syntax.html#Lean.Syntax.TopDown.firstChoiceOnly">firstChoiceOnly</a></code> is <code>true</code>, only visit the first argument of each choice node.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">stx</span>.topDown</span> <span class="fn">firstChoiceOnly</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">firstChoiceOnly</span> := <span class="fn">firstChoiceOnly</span>, <span class="fn">stx</span> := <span class="fn">stx</span> }</span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.topDown" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.instForInTopDown"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L316-L334">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.instForInTopDown"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">instForInTopDown</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href=".././foundational_types.html">Type</a> u_1 → <a href=".././foundational_types.html">Type</a> u_2</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Core.html#ForIn">ForIn</a> <span class="fn">m</span> <a href=".././Lean/Syntax.html#Lean.Syntax.TopDown">Lean.Syntax.TopDown</a> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Syntax.instForInTopDown.loop"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L318-L331">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.instForInTopDown.loop"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">instForInTopDown</span>.<span class="name">loop</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href=".././foundational_types.html">Type</a> u_1 → <a href=".././foundational_types.html">Type</a> u_2</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">{<span class="fn">β</span> : <a href=".././foundational_types.html">Type</a> u_1} →
  <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>] →
    <span class="fn"><span class="fn">(<a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span>)</span></span></span>)</span> → <span class="fn"><a href=".././Init/Prelude.html#Bool">Bool</a> → <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><span class="fn">β</span> → <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href=".././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">β</span></span>] → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span>)</span></span></span></span></span></span></span></span></span></div></div></div></div><div class="decl" id="Lean.Syntax.reprint"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L336-L360">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.reprint"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">reprint</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Init/Prelude.html#String">String</a></span></div></div></div></div><div class="decl" id="Lean.Syntax.reprint.reprintLeaf"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L353-L360">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.reprint.reprintLeaf"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">reprint</span>.<span class="name">reprintLeaf</span></a></span><span class="decl_args">
<span class="fn">(info : <a href=".././Init/Prelude.html#Lean.SourceInfo">Lean.SourceInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(val : <a href=".././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#String">String</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Syntax.reprint.reprintLeaf" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.hasMissing"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L362-L366">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.hasMissing"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">hasMissing</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Syntax.hasMissing" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.getRange?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L368-L371">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.getRange?"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getRange?</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(canonicalOnly : <span class="fn"><a href=".././Init/Prelude.html#optParam">optParam</a> <a href=".././Init/Prelude.html#Bool">Bool</a> <a href=".././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/Syntax.html#String.Range">String.Range</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">stx</span>.getRange?</span> <span class="fn">canonicalOnly</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn"><span class="fn">stx</span>.getPos?</span> <span class="fn">canonicalOnly</span></span>, <span class="fn"><span class="fn"><span class="fn">stx</span>.getTailPos?</span> <span class="fn">canonicalOnly</span></span> with
  | <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">start</span></span>, <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">stop</span></span> =&gt; <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">{ <span class="fn">start</span> := <span class="fn">start</span>, <span class="fn">stop</span> := <span class="fn">stop</span> }</span></span>
  | <span class="fn">x</span>, <span class="fn">x_1</span> =&gt; <span class="fn">none</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.getRange?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.ofRange"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L374-L375">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.ofRange"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">ofRange</span></a></span><span class="decl_args">
<span class="fn">(range : <a href=".././Lean/Syntax.html#String.Range">String.Range</a>)</span></span>
<span class="decl_args">
<span class="fn">(canonical : <span class="fn"><a href=".././Init/Prelude.html#optParam">optParam</a> <a href=".././Init/Prelude.html#Bool">Bool</a> <a href=".././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></div><p>Returns a synthetic Syntax which has the specified <code><a href=".././Lean/Syntax.html#String.Range">String.Range</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href=".././Lean/Syntax.html#Lean.Syntax.ofRange">Lean.Syntax.ofRange</a> <span class="fn">range</span> <span class="fn">canonical</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.atom">Lean.Syntax.atom</a> <span class="fn">(<a href=".././Init/Prelude.html#Lean.SourceInfo.synthetic">Lean.SourceInfo.synthetic</a> <span class="fn"><span class="fn">range</span>.start</span> <span class="fn"><span class="fn">range</span>.stop</span> <span class="fn">canonical</span>)</span> <span class="fn">&quot;&quot;</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.ofRange" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.Traverser"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L382-L385">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.Traverser"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Traverser</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a></div></div><p>Represents a cursor into a syntax tree that can be read, written, and advanced down/up/left/right.
Indices are allowed to be out-of-bound, in which case <code><a href=".././Lean/Syntax.html#Lean.Syntax.Traverser.cur">cur</a></code> is <code>Syntax.missing</code>.
If the <code><a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Traverser</a></code> is used linearly, updates are linear in the <code>Syntax</code> object as well.</p><ul class="structure_fields" id="Lean.Syntax.Traverser.mk"><li id="Lean.Syntax.Traverser.cur" class="structure_field"><div class="structure_field_info">cur : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></li><li id="Lean.Syntax.Traverser.parents" class="structure_field"><div class="structure_field_info">parents : <span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></div></li><li id="Lean.Syntax.Traverser.idxs" class="structure_field"><div class="structure_field_info">idxs : <span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Init/Prelude.html#Nat">Nat</a></span></div></li></ul><details id="instances-for-list-Lean.Syntax.Traverser" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.Traverser.fromSyntax"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L389-L390">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.Traverser.fromSyntax"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Traverser</span>.<span class="name">fromSyntax</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Lean.Syntax.Traverser</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href=".././Lean/Syntax.html#Lean.Syntax.Traverser.fromSyntax">Lean.Syntax.Traverser.fromSyntax</a> <span class="fn">stx</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">cur</span> := <span class="fn">stx</span>, <span class="fn">parents</span> := <span class="fn">#[]</span>, <span class="fn">idxs</span> := <span class="fn">#[]</span> }</span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.Traverser.fromSyntax" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.Traverser.setCur"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L392-L393">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.Traverser.setCur"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Traverser</span>.<span class="name">setCur</span></a></span><span class="decl_args">
<span class="fn">(t : <a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Lean.Syntax.Traverser</a>)</span></span>
<span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Lean.Syntax.Traverser</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">t</span>.setCur</span> <span class="fn">stx</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">cur</span> := <span class="fn">stx</span>, <span class="fn">parents</span> := <span class="fn"><span class="fn">t</span>.parents</span>, <span class="fn">idxs</span> := <span class="fn"><span class="fn">t</span>.idxs</span> }</span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.Traverser.setCur" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.Traverser.down"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L396-L400">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.Traverser.down"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Traverser</span>.<span class="name">down</span></a></span><span class="decl_args">
<span class="fn">(t : <a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Lean.Syntax.Traverser</a>)</span></span>
<span class="decl_args">
<span class="fn">(idx : <a href=".././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Lean.Syntax.Traverser</a></div></div><p>Advance to the <code>idx</code>-th child of the current node.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Syntax.Traverser.down" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.Traverser.up"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L403-L408">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.Traverser.up"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Traverser</span>.<span class="name">up</span></a></span><span class="decl_args">
<span class="fn">(t : <a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Lean.Syntax.Traverser</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Lean.Syntax.Traverser</a></div></div><p>Advance to the parent of the current node, if any.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Syntax.Traverser.up" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.Traverser.left"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L411-L415">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.Traverser.left"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Traverser</span>.<span class="name">left</span></a></span><span class="decl_args">
<span class="fn">(t : <a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Lean.Syntax.Traverser</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Lean.Syntax.Traverser</a></div></div><p>Advance to the left sibling of the current node, if any.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">t</span>.left</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">if <span class="fn"><span class="fn"><span class="fn"><span class="fn">t</span>.parents</span>.size</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span></span> then <span class="fn"><span class="fn"><span class="fn"><span class="fn">t</span>.up</span>.down</span> <span class="fn">(<span class="fn"><span class="fn"><span class="fn">t</span>.idxs</span>.back</span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>)</span></span> else <span class="fn">t</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.Traverser.left" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.Traverser.right"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L418-L422">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.Traverser.right"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Traverser</span>.<span class="name">right</span></a></span><span class="decl_args">
<span class="fn">(t : <a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Lean.Syntax.Traverser</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Lean.Syntax.Traverser</a></div></div><p>Advance to the right sibling of the current node, if any.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">t</span>.right</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">if <span class="fn"><span class="fn"><span class="fn"><span class="fn">t</span>.parents</span>.size</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span></span> then <span class="fn"><span class="fn"><span class="fn"><span class="fn">t</span>.up</span>.down</span> <span class="fn">(<span class="fn"><span class="fn"><span class="fn">t</span>.idxs</span>.back</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span></span> else <span class="fn">t</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.Traverser.right" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.MonadTraverser"><div class="class"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L427-L428">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.MonadTraverser"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">MonadTraverser</span></a></span><span class="decl_args">
<span class="fn">(m : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a> 1</div></div><p>Monad class that gives read/write access to a <code><a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Traverser</a></code>.</p><ul class="structure_fields" id="Lean.Syntax.MonadTraverser.mk"><li id="Lean.Syntax.MonadTraverser.st" class="structure_field"><div class="structure_field_info">st : <span class="fn"><a href=".././Init/Prelude.html#MonadState">MonadState</a> <a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Lean.Syntax.Traverser</a> <span class="fn">m</span></span></div></li></ul><details class="instances"><summary>Instances</summary><ul id="instances-list-Lean.Syntax.MonadTraverser" class="instances-list"></ul></details></div></div><div class="decl" id="Lean.Syntax.MonadTraverser.getCur"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L434-L434">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.MonadTraverser.getCur"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">MonadTraverser</span>.<span class="name">getCur</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[t : <span class="fn"><a href=".././Lean/Syntax.html#Lean.Syntax.MonadTraverser">Lean.Syntax.MonadTraverser</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Syntax.MonadTraverser.getCur</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/Syntax.html#Lean.Syntax.Traverser.cur">Lean.Syntax.Traverser.cur</a> <a href=".././Init/Prelude.html#Functor.map">&lt;$&gt;</a> <span class="fn">get</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.MonadTraverser.getCur" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.MonadTraverser.setCur"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L435-L435">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.MonadTraverser.setCur"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">MonadTraverser</span>.<span class="name">setCur</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[t : <span class="fn"><a href=".././Lean/Syntax.html#Lean.Syntax.MonadTraverser">Lean.Syntax.MonadTraverser</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href=".././Lean/Syntax.html#Lean.Syntax.MonadTraverser.setCur">Lean.Syntax.MonadTraverser.setCur</a> <span class="fn">stx</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#modify">modify</a> <span class="fn">fun (<span class="fn">t</span> : <a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Lean.Syntax.Traverser</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">t</span>.setCur</span> <span class="fn">stx</span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.MonadTraverser.setCur" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.MonadTraverser.goDown"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L436-L436">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.MonadTraverser.goDown"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">MonadTraverser</span>.<span class="name">goDown</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[t : <span class="fn"><a href=".././Lean/Syntax.html#Lean.Syntax.MonadTraverser">Lean.Syntax.MonadTraverser</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(idx : <a href=".././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href=".././Lean/Syntax.html#Lean.Syntax.MonadTraverser.goDown">Lean.Syntax.MonadTraverser.goDown</a> <span class="fn">idx</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#modify">modify</a> <span class="fn">fun (<span class="fn">t</span> : <a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Lean.Syntax.Traverser</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">t</span>.down</span> <span class="fn">idx</span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.MonadTraverser.goDown" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.MonadTraverser.goUp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L437-L437">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.MonadTraverser.goUp"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">MonadTraverser</span>.<span class="name">goUp</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[t : <span class="fn"><a href=".././Lean/Syntax.html#Lean.Syntax.MonadTraverser">Lean.Syntax.MonadTraverser</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Syntax.MonadTraverser.goUp</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#modify">modify</a> <span class="fn">fun (<span class="fn">t</span> : <a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Lean.Syntax.Traverser</a>) =&gt; <span class="fn"><span class="fn">t</span>.up</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.MonadTraverser.goUp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.MonadTraverser.goLeft"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L438-L438">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.MonadTraverser.goLeft"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">MonadTraverser</span>.<span class="name">goLeft</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[t : <span class="fn"><a href=".././Lean/Syntax.html#Lean.Syntax.MonadTraverser">Lean.Syntax.MonadTraverser</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Syntax.MonadTraverser.goLeft</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#modify">modify</a> <span class="fn">fun (<span class="fn">t</span> : <a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Lean.Syntax.Traverser</a>) =&gt; <span class="fn"><span class="fn">t</span>.left</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.MonadTraverser.goLeft" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.MonadTraverser.goRight"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L439-L439">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.MonadTraverser.goRight"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">MonadTraverser</span>.<span class="name">goRight</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[t : <span class="fn"><a href=".././Lean/Syntax.html#Lean.Syntax.MonadTraverser">Lean.Syntax.MonadTraverser</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Syntax.MonadTraverser.goRight</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#modify">modify</a> <span class="fn">fun (<span class="fn">t</span> : <a href=".././Lean/Syntax.html#Lean.Syntax.Traverser">Lean.Syntax.Traverser</a>) =&gt; <span class="fn"><span class="fn">t</span>.right</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.MonadTraverser.goRight" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.MonadTraverser.getIdx"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L441-L443">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.MonadTraverser.getIdx"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">MonadTraverser</span>.<span class="name">getIdx</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[t : <span class="fn"><a href=".././Lean/Syntax.html#Lean.Syntax.MonadTraverser">Lean.Syntax.MonadTraverser</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Nat">Nat</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Syntax.MonadTraverser.getIdx</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">st</span> ← <span class="fn">get</span>
  <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn"><span class="fn"><span class="fn"><span class="fn">st</span>.idxs</span>.back?</span>.getD</span> <span class="fn">0</span>)</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.MonadTraverser.getIdx" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.SyntaxNode.getIdAt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L450-L451">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.SyntaxNode.getIdAt"><span class="name">Lean</span>.<span class="name">SyntaxNode</span>.<span class="name">getIdAt</span></a></span><span class="decl_args">
<span class="fn">(n : <a href=".././Lean/Syntax.html#Lean.SyntaxNode">Lean.SyntaxNode</a>)</span></span>
<span class="decl_args">
<span class="fn">(i : <a href=".././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Name">Lake.Name</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">n</span>.getIdAt</span> <span class="fn">i</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn">n</span>.getArg</span> <span class="fn">i</span>)</span>.getId</span></span></li></ul></details><details id="instances-for-list-Lean.SyntaxNode.getIdAt" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.mkListNode"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L455-L456">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.mkListNode"><span class="name">Lean</span>.<span class="name">mkListNode</span></a></span><span class="decl_args">
<span class="fn">(args : <span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href=".././Lean/Syntax.html#Lean.mkListNode">Lean.mkListNode</a> <span class="fn">args</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#Lean.mkNullNode">Lean.mkNullNode</a> <span class="fn">args</span></span></span></li></ul></details><details id="instances-for-list-Lean.mkListNode" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.isQuot"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L461-L464">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.isQuot"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">isQuot</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.isQuot</span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">x</span> with
  | <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">info</span> <span class="fn">(<span class="fn"><span class="fn">pre</span>.str</span> <span class="fn">&quot;quot&quot;</span>)</span> <span class="fn">args</span></span> =&gt; <a href=".././Init/Prelude.html#Bool.true">true</a>
  | <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">info</span> <span class="fn">`Lean.Parser.Term.dynamicQuot</span> <span class="fn">args</span></span> =&gt; <a href=".././Init/Prelude.html#Bool.true">true</a>
  | <span class="fn">x</span> =&gt; <a href=".././Init/Prelude.html#Bool.false">false</a></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.isQuot" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.getQuotContent"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L466-L471">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.getQuotContent"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getQuotContent</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">stx</span>.getQuotContent</span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">let <span class="fn">stx</span> := <span class="fn">if <span class="fn"><span class="fn">(<span class="fn"><span class="fn">stx</span>.getNumArgs</span> <a href=".././Init/Prelude.html#BEq.beq">==</a> <span class="fn">1</span>)</span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn"><span class="fn">stx</span>[<span class="fn">0</span>]</span> else <span class="fn">stx</span></span>;
  <span class="fn">if <span class="fn"><span class="fn"><span class="fn"><span class="fn">stx</span>.isOfKind</span> <span class="fn">`Lean.Parser.Term.dynamicQuot</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn"><span class="fn">stx</span>[<span class="fn">3</span>]</span> else <span class="fn"><span class="fn">stx</span>[<span class="fn">1</span>]</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.getQuotContent" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.isAntiquot"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L474-L476">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.isAntiquot"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">isAntiquot</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.isAntiquot</span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">x</span> with
  | <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">info</span> <span class="fn">(<span class="fn"><span class="fn">pre</span>.str</span> <span class="fn">&quot;antiquot&quot;</span>)</span> <span class="fn">args</span></span> =&gt; <a href=".././Init/Prelude.html#Bool.true">true</a>
  | <span class="fn">x</span> =&gt; <a href=".././Init/Prelude.html#Bool.false">false</a></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.isAntiquot" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.isAntiquots"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L478-L479">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.isAntiquots"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">isAntiquots</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">stx</span>.isAntiquots</span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">(<span class="fn"><span class="fn">stx</span>.isAntiquot</span> <a href=".././Init/Prelude.html#or">||</a>     <span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">stx</span>.isOfKind</span> <a href=".././Init/Prelude.html#Lean.choiceKind">Lean.choiceKind</a></span> <a href=".././Init/Prelude.html#and">&amp;&amp;</a> <span class="fn"><a href=".././Init/Prelude.html#Decidable.decide">decide</a> <span class="fn">(<span class="fn"><span class="fn">stx</span>.getNumArgs</span> <a href=".././Init/Prelude.html#GT.gt">&gt;</a> <span class="fn">0</span>)</span></span></span> <a href=".././Init/Prelude.html#and">&amp;&amp;</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">stx</span>.getArgs</span>.all</span> <a href=".././Lean/Syntax.html#Lean.Syntax.isAntiquot">Lean.Syntax.isAntiquot</a></span></span>)</span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.isAntiquots" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.getCanonicalAntiquot"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L481-L485">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.getCanonicalAntiquot"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getCanonicalAntiquot</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">stx</span>.getCanonicalAntiquot</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">if <span class="fn"><span class="fn"><span class="fn"><span class="fn">stx</span>.isOfKind</span> <a href=".././Init/Prelude.html#Lean.choiceKind">Lean.choiceKind</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn"><span class="fn">stx</span>[<span class="fn">0</span>]</span> else <span class="fn">stx</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.getCanonicalAntiquot" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.mkAntiquotNode"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L487-L496">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.mkAntiquotNode"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">mkAntiquotNode</span></a></span><span class="decl_args">
<span class="fn">(kind : <a href=".././Init/Prelude.html#Lean.Name">Lake.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(term : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(nesting : <span class="fn"><a href=".././Init/Prelude.html#optParam">optParam</a> <a href=".././Init/Prelude.html#Nat">Nat</a> <span class="fn">0</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(name : <span class="fn"><a href=".././Init/Prelude.html#optParam">optParam</a> <span class="fn">(<a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Init/Prelude.html#String">String</a>)</span> <span class="fn">none</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(isPseudoKind : <span class="fn"><a href=".././Init/Prelude.html#optParam">optParam</a> <a href=".././Init/Prelude.html#Bool">Bool</a> <a href=".././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Syntax.mkAntiquotNode" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.isEscapedAntiquot"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L499-L500">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.isEscapedAntiquot"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">isEscapedAntiquot</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">stx</span>.isEscapedAntiquot</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#not">!</a><span class="fn"><span class="fn"><span class="fn"><span class="fn">stx</span>[<span class="fn">1</span>]</span>.getArgs</span>.isEmpty</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.isEscapedAntiquot" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.unescapeAntiquot"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L503-L507">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.unescapeAntiquot"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">unescapeAntiquot</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">stx</span>.unescapeAntiquot</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">if <span class="fn"><span class="fn"><span class="fn">stx</span>.isAntiquot</span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn"><span class="fn"><span class="fn">stx</span>.setArg</span> <span class="fn">1</span> <span class="fn">(<a href=".././Init/Prelude.html#Lean.mkNullNode">Lean.mkNullNode</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">stx</span>[<span class="fn">1</span>]</span>.getArgs</span>.pop</span>)</span></span> else <span class="fn">stx</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.unescapeAntiquot" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.getAntiquotTerm"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L510-L516">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.getAntiquotTerm"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getAntiquotTerm</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">stx</span>.getAntiquotTerm</span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">let <span class="fn">e</span> := <span class="fn">if <span class="fn"><span class="fn"><span class="fn">stx</span>.isAntiquot</span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn"><span class="fn">stx</span>[<span class="fn">2</span>]</span> else <span class="fn"><span class="fn">stx</span>[<span class="fn">3</span>]</span></span>;
  <span class="fn">if <span class="fn"><span class="fn"><span class="fn">e</span>.isIdent</span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn">e</span> else <span class="fn">if <span class="fn"><span class="fn"><span class="fn">e</span>.isAtom</span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn"><span class="fn">(<a href=".././Init/Prelude.html#Lean.mkNode">Lean.mkNode</a> <span class="fn">`Lean.Parser.Term.hole</span> <span class="fn">#[<span class="fn">e</span>]</span>)</span>.raw</span> else <span class="fn"><span class="fn">e</span>[<span class="fn">1</span>]</span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.getAntiquotTerm" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.antiquotKind?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L519-L522">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.antiquotKind?"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">antiquotKind?</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href=".././Init/Prelude.html#Lean.SyntaxNodeKind">Lean.SyntaxNodeKind</a> <a href=".././Init/Prelude.html#Prod">×</a> <a href=".././Init/Prelude.html#Bool">Bool</a>)</span></span></span></div></div><p>Return kind of parser expected at this antiquotation, and whether it is a &quot;pseudo&quot; kind (see <code>mkAntiquot</code>).</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.antiquotKind?</span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">x</span> with
  | <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">info</span> <span class="fn">(<span class="fn"><span class="fn">(<span class="fn"><span class="fn">k</span>.str</span> <span class="fn">&quot;pseudo&quot;</span>)</span>.str</span> <span class="fn">&quot;antiquot&quot;</span>)</span> <span class="fn">args</span></span> =&gt; <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">(<span class="fn">k</span>, <a href=".././Init/Prelude.html#Bool.true">true</a>)</span></span>
  | <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">info</span> <span class="fn">(<span class="fn"><span class="fn">k</span>.str</span> <span class="fn">&quot;antiquot&quot;</span>)</span> <span class="fn">args</span></span> =&gt; <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">(<span class="fn">k</span>, <a href=".././Init/Prelude.html#Bool.false">false</a>)</span></span>
  | <span class="fn">x</span> =&gt; <span class="fn">none</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.antiquotKind?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.antiquotKinds"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L524-L530">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.antiquotKinds"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">antiquotKinds</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#List">List</a> <span class="fn">(<a href=".././Init/Prelude.html#Lean.SyntaxNodeKind">Lean.SyntaxNodeKind</a> <a href=".././Init/Prelude.html#Prod">×</a> <a href=".././Init/Prelude.html#Bool">Bool</a>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Syntax.antiquotKinds" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.antiquotSpliceKind?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L533-L535">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.antiquotSpliceKind?"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">antiquotSpliceKind?</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Init/Prelude.html#Lean.SyntaxNodeKind">Lean.SyntaxNodeKind</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.antiquotSpliceKind?</span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">x</span> with
  | <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">info</span> <span class="fn">(<span class="fn"><span class="fn">k</span>.str</span> <span class="fn">&quot;antiquot_scope&quot;</span>)</span> <span class="fn">args</span></span> =&gt; <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">k</span></span>
  | <span class="fn">x</span> =&gt; <span class="fn">none</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.antiquotSpliceKind?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.isAntiquotSplice"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L537-L538">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.isAntiquotSplice"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">isAntiquotSplice</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">stx</span>.isAntiquotSplice</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">stx</span>.antiquotSpliceKind?</span>.isSome</span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.isAntiquotSplice" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.getAntiquotSpliceContents"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L540-L541">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.getAntiquotSpliceContents"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getAntiquotSpliceContents</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">stx</span>.getAntiquotSpliceContents</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">stx</span>[<span class="fn">3</span>]</span>.getArgs</span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.getAntiquotSpliceContents" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.getAntiquotSpliceSuffix"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L544-L548">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.getAntiquotSpliceSuffix"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getAntiquotSpliceSuffix</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">stx</span>.getAntiquotSpliceSuffix</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">if <span class="fn"><span class="fn"><span class="fn">stx</span>.isAntiquotSplice</span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn"><span class="fn">stx</span>[<span class="fn">5</span>]</span> else <span class="fn"><span class="fn">stx</span>[<span class="fn">1</span>]</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.getAntiquotSpliceSuffix" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.mkAntiquotSpliceNode"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L550-L552">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.mkAntiquotSpliceNode"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">mkAntiquotSpliceNode</span></a></span><span class="decl_args">
<span class="fn">(kind : <a href=".././Init/Prelude.html#Lean.SyntaxNodeKind">Lean.SyntaxNodeKind</a>)</span></span>
<span class="decl_args">
<span class="fn">(contents : <span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(suffix : <a href=".././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args">
<span class="fn">(nesting : <span class="fn"><a href=".././Init/Prelude.html#optParam">optParam</a> <a href=".././Init/Prelude.html#Nat">Nat</a> <span class="fn">0</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Syntax.mkAntiquotSpliceNode" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.antiquotSuffixSplice?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L555-L557">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.antiquotSuffixSplice?"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">antiquotSuffixSplice?</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Init/Prelude.html#Lean.SyntaxNodeKind">Lean.SyntaxNodeKind</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.antiquotSuffixSplice?</span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">x</span> with
  | <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax.node">Lean.Syntax.node</a> <span class="fn">info</span> <span class="fn">(<span class="fn"><span class="fn">k</span>.str</span> <span class="fn">&quot;antiquot_suffix_splice&quot;</span>)</span> <span class="fn">args</span></span> =&gt; <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">k</span></span>
  | <span class="fn">x</span> =&gt; <span class="fn">none</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.antiquotSuffixSplice?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.isAntiquotSuffixSplice"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L559-L560">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.isAntiquotSuffixSplice"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">isAntiquotSuffixSplice</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">stx</span>.isAntiquotSuffixSplice</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">stx</span>.antiquotSuffixSplice?</span>.isSome</span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.isAntiquotSuffixSplice" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.getAntiquotSuffixSpliceInner"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L563-L564">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.getAntiquotSuffixSpliceInner"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">getAntiquotSuffixSpliceInner</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">stx</span>.getAntiquotSuffixSpliceInner</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">stx</span>[<span class="fn">0</span>]</span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.getAntiquotSuffixSpliceInner" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.mkAntiquotSuffixSpliceNode"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L566-L567">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.mkAntiquotSuffixSpliceNode"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">mkAntiquotSuffixSpliceNode</span></a></span><span class="decl_args">
<span class="fn">(kind : <a href=".././Init/Prelude.html#Lean.SyntaxNodeKind">Lean.SyntaxNodeKind</a>)</span></span>
<span class="decl_args">
<span class="fn">(inner : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(suffix : <a href=".././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href=".././Lean/Syntax.html#Lean.Syntax.mkAntiquotSuffixSpliceNode">Lean.Syntax.mkAntiquotSuffixSpliceNode</a> <span class="fn">kind</span> <span class="fn">inner</span> <span class="fn">suffix</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn">(<a href=".././Init/Prelude.html#Lean.mkNode">Lean.mkNode</a> <span class="fn">(<span class="fn">kind</span> <a href=".././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">`antiquot_suffix_splice</span>)</span> <span class="fn">#[<span class="fn">inner</span>, <span class="fn"><a href=".././Init/Prelude.html#Lean.mkAtom">Lean.mkAtom</a> <span class="fn">suffix</span></span>]</span>)</span>.raw</span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.mkAntiquotSuffixSpliceNode" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.isTokenAntiquot"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L569-L570">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.isTokenAntiquot"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">isTokenAntiquot</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">stx</span>.isTokenAntiquot</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">stx</span>.isOfKind</span> <span class="fn">`token_antiquot</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.isTokenAntiquot" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.isAnyAntiquot"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L572-L573">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.isAnyAntiquot"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">isAnyAntiquot</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">stx</span>.isAnyAntiquot</span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">(<span class="fn"><span class="fn"><span class="fn"><span class="fn">stx</span>.isAntiquot</span> <a href=".././Init/Prelude.html#or">||</a> <span class="fn"><span class="fn">stx</span>.isAntiquotSplice</span></span> <a href=".././Init/Prelude.html#or">||</a> <span class="fn"><span class="fn">stx</span>.isAntiquotSuffixSplice</span></span> <a href=".././Init/Prelude.html#or">||</a> <span class="fn"><span class="fn">stx</span>.isTokenAntiquot</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.isAnyAntiquot" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.Stack"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L578-L578">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.Stack"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Stack</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a></div></div><p>List of <code>Syntax</code> nodes in which each succeeding element is the parent of
the current. The associated index is the index of the preceding element in the
list of children of the current element.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/Syntax.html#Lean.Syntax.Stack">Lean.Syntax.Stack</a> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <span class="fn">(<a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> <a href=".././Init/Prelude.html#Prod">×</a> <a href=".././Init/Prelude.html#Nat">Nat</a>)</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.Stack" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.findStack?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L581-L591">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.findStack?"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">findStack?</span></a></span><span class="decl_args">
<span class="fn">(root : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(visit : <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(accept : <span class="fn"><a href=".././Init/Prelude.html#optParam">optParam</a> <span class="fn">(<a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././Init/Prelude.html#Bool">Bool</a>)</span> <span class="fn">fun (<span class="fn">stx</span> : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>) =&gt; <span class="fn"><a href=".././Init/Prelude.html#not">!</a><span class="fn"><span class="fn">stx</span>.hasArgs</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/Syntax.html#Lean.Syntax.Stack">Lean.Syntax.Stack</a></span></div></div><p>Return stack of syntax nodes satisfying <code>visit</code>, starting with such a node that also fulfills <code>accept</code> (default &quot;is leaf&quot;), and ending with the root.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn"><span class="fn">root</span>.findStack?</span> <span class="fn">visit</span> <span class="fn">accept</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">if <span class="fn"><span class="fn"><span class="fn">visit</span> <span class="fn">root</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn"><a href=".././Lean/Syntax.html#Lean.Syntax.findStack?.go">Lean.Syntax.findStack?.go</a> <span class="fn">visit</span> <span class="fn">accept</span> <span class="fn">[]</span> <span class="fn">root</span></span> else <span class="fn">none</span></span></span></li></ul></details><details id="instances-for-list-Lean.Syntax.findStack?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Syntax.findStack?.go"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L584-L591">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.findStack?.go"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">findStack?</span>.<span class="name">go</span></a></span><span class="decl_args">
<span class="fn">(visit : <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(accept : <span class="fn"><a href=".././Init/Prelude.html#optParam">optParam</a> <span class="fn">(<a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href=".././Init/Prelude.html#Bool">Bool</a>)</span> <span class="fn">fun (<span class="fn">stx</span> : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>) =&gt; <span class="fn"><a href=".././Init/Prelude.html#not">!</a><span class="fn"><span class="fn">stx</span>.hasArgs</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(stack : <a href=".././Lean/Syntax.html#Lean.Syntax.Stack">Lean.Syntax.Stack</a>)</span></span>
<span class="decl_args">
<span class="fn">(stx : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/Syntax.html#Lean.Syntax.Stack">Lean.Syntax.Stack</a></span></div></div></div></div><div class="decl" id="Lean.Syntax.Stack.matches"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/ec3042d94bd11a42430f9e14d39e26b1f880f99b/src/Lean/Syntax.lean#L595-L599">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Syntax.html#Lean.Syntax.Stack.matches"><span class="name">Lean</span>.<span class="name">Syntax</span>.<span class="name">Stack</span>.<span class="name">matches</span></a></span><span class="decl_args">
<span class="fn">(stack : <a href=".././Lean/Syntax.html#Lean.Syntax.Stack">Lean.Syntax.Stack</a>)</span></span>
<span class="decl_args">
<span class="fn">(pattern : <span class="fn"><a href=".././Init/Prelude.html#List">List</a> <span class="fn">(<a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Init/Prelude.html#Lean.SyntaxNodeKind">Lean.SyntaxNodeKind</a>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><p>Compare the <code>SyntaxNodeKind</code>s in <code>pattern</code> to those of the <code>Syntax</code>
elements in <code>stack</code>. Return <code>false</code> if <code>stack</code> is shorter than <code>pattern</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Syntax.Stack.matches" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src=".././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>