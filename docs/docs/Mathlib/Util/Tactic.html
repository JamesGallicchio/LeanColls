<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="icon" href="../.././favicon.svg"></link><link rel="mask-icon" href="../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Mathlib.Util.Tactic</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Mathlib.Util.Tactic";</script><script type="module" src="../.././jump-src.js"></script><script type="module" src="../.././search.js"></script><script type="module" src="../.././expand-nav.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Mathlib</span>.<span class="name">Util</span>.<span class="name">Tactic</span></h2><form action="https://google.com/search" method="get" id="search_form"><input type="hidden" name="sitesearch" value="https://leanprover-community.github.io/mathlib4_docs"></input><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../.././search.html';">Search</button><button>Google site search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Util/Tactic.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Init.html">Init</a></li><li><a href="../.././Lean/MetavarContext.html">Lean.MetavarContext</a></li><li><a href="../.././Mathlib/Init.html">Mathlib.Init</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Mathlib.Util.Tactic" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.modifyMetavarDecl"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">modifyMetavarDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.modifyTarget"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">modifyTarget</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.modifyLocalContext"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">modifyLocalContext</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.modifyLocalDecl"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">modifyLocalDecl</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="Miscellaneous-helper-functions-for-tactics">Miscellaneous helper functions for tactics. <a class="hover-link" href="#Miscellaneous-helper-functions-for-tactics">#</a></h1><p>[TODO] Ideally we would find good homes for everything in this file, eventually removing it.</p></div><div class="decl" id="Mathlib.Tactic.modifyMetavarDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Util/Tactic.lean#L33-L38">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Tactic.html#Mathlib.Tactic.modifyMetavarDecl"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">modifyMetavarDecl</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx">Lean.MonadMCtx</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MetavarDecl">Lean.MetavarDecl</a> → <a href="../.././Lean/MetavarContext.html#Lean.MetavarDecl">Lean.MetavarDecl</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p><code><a href="../.././Mathlib/Util/Tactic.html#Mathlib.Tactic.modifyMetavarDecl">modifyMetavarDecl</a> mvarId f</code> updates the <code>MetavarDecl</code> for <code>mvarId</code> with <code>f</code>.
Conditions on <code>f</code>:</p><ul>
<li>The target of <code>f mdecl</code> is defeq to the target of <code>mdecl</code>.</li>
<li>The local context of <code>f mdecl</code> must contain the same fvars as the local
context of <code>mdecl</code>. For each fvar in the local context of <code>f mdecl</code>, the type
(and value, if any) of the fvar must be defeq to the corresponding fvar in
the local context of <code>mdecl</code>.</li>
</ul><p>If <code>mvarId</code> does not refer to a declared metavariable, nothing happens.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.modifyMetavarDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.modifyTarget"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Util/Tactic.lean#L45-L47">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Tactic.html#Mathlib.Tactic.modifyTarget"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">modifyTarget</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx">Lean.MonadMCtx</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p><code><a href="../.././Mathlib/Util/Tactic.html#Mathlib.Tactic.modifyTarget">modifyTarget</a> mvarId f</code> updates the target of the metavariable <code>mvarId</code> with
<code>f</code>. For any <code>e</code>, <code>f e</code> must be defeq to <code>e</code>. If <code>mvarId</code> does not refer to
a declared metavariable, nothing happens.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.modifyTarget" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.modifyLocalContext"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Util/Tactic.lean#L57-L60">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Tactic.html#Mathlib.Tactic.modifyLocalContext"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">modifyLocalContext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx">Lean.MonadMCtx</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../.././Lean/LocalContext.html#Lean.LocalContext">Lean.LocalContext</a> → <a href="../.././Lean/LocalContext.html#Lean.LocalContext">Lean.LocalContext</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p><code><a href="../.././Mathlib/Util/Tactic.html#Mathlib.Tactic.modifyLocalContext">modifyLocalContext</a> mvarId f</code> updates the local context of the metavariable
<code>mvarId</code> with <code>f</code>. The new local context must contain the same fvars as the old
local context and the types (and values, if any) of the fvars in the new local
context must be defeq to their equivalents in the old local context.</p><p>If <code>mvarId</code> does not refer to a declared metavariable, nothing happens.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.modifyLocalContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.modifyLocalDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Util/Tactic.lean#L72-L74">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Util/Tactic.html#Mathlib.Tactic.modifyLocalDecl"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">modifyLocalDecl</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx">Lean.MonadMCtx</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(fvarId : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../.././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a> → <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p><code><a href="../.././Mathlib/Util/Tactic.html#Mathlib.Tactic.modifyLocalDecl">modifyLocalDecl</a> mvarId fvarId f</code> updates the local decl <code>fvarId</code> in the local
context of <code>mvarId</code> with <code>f</code>. <code>f</code> must leave the <code>fvarId</code> and <code>index</code> of the
<code>LocalDecl</code> unchanged. The type of the new <code>LocalDecl</code> must be defeq to the type
of the old <code>LocalDecl</code> (and the same applies to the value of the <code>LocalDecl</code>, if
any).</p><p>If <code>mvarId</code> does not refer to a declared metavariable or if <code>fvarId</code> does not
exist in the local context of <code>mvarId</code>, nothing happens.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Mathlib/Util/Tactic.html#Mathlib.Tactic.modifyLocalDecl">Mathlib.Tactic.modifyLocalDecl</a> <span class="fn">mvarId</span> <span class="fn">fvarId</span> <span class="fn">f</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Mathlib/Util/Tactic.html#Mathlib.Tactic.modifyLocalContext">Mathlib.Tactic.modifyLocalContext</a> <span class="fn">mvarId</span> <span class="fn">fun (<span class="fn">lctx</span> : <a href="../.././Lean/LocalContext.html#Lean.LocalContext">Lean.LocalContext</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">lctx</span>.modifyLocalDecl</span> <span class="fn">fvarId</span> <span class="fn">f</span></span></span></span></span></li></ul></details><details id="instances-for-list-Mathlib.Tactic.modifyLocalDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>