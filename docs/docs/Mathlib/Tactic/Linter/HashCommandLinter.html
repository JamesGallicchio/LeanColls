<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Mathlib.Tactic.Linter.HashCommandLinter</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Mathlib.Tactic.Linter.HashCommandLinter";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Linter</span>.<span class="name">HashCommandLinter</span></h2><form action="https://google.com/search" method="get" id="search_form"><input type="hidden" name="sitesearch" value="https://leanprover-community.github.io/mathlib4_docs"></input><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button><button>Google site search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/HashCommandLinter.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init.html">Init</a></li><li><a href="../../.././Lean/Elab/Command.html">Lean.Elab.Command</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Mathlib.Tactic.Linter.HashCommandLinter" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.linter.hashCommand"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">linter</span>.<span class="name">hashCommand</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.HashCommandLinter.hashCommandLinter"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">HashCommandLinter</span>.<span class="name">hashCommandLinter</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="command-linter"><code>#</code>-command linter <a class="hover-link" href="#command-linter">#</a></h1><p>The <code>#</code>-command linter produces a warning when a command starting with <code>#</code> is used <em>and</em></p><ul>
<li>either the command emits no message;</li>
<li>or <code>warningAsError</code> is set to <code>true</code>.</li>
</ul><p>The rationale behind this is that <code>#</code>-commands are intended to be transient:
they provide useful information in development, but are not intended to be present in final code.
Most of them are noisy and get picked up anyway by CI, but even the quiet ones are not expected to
outlive their in-development status.</p></div><div class="decl" id="Mathlib.Linter.linter.hashCommand"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/HashCommandLinter.lean#L24-L32">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/HashCommandLinter.html#Mathlib.Linter.linter.hashCommand"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">linter</span>.<span class="name">hashCommand</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>The linter emits a warning on any command beginning with <code>#</code> that itself emits no message.
For example, <code>#guard true</code> and <code>#check_tactic <a href="../../.././Init/Prelude.html#True">True</a> ~&gt; <a href="../../.././Init/Prelude.html#True">True</a> by skip</code> trigger a message.
There is a list of silent <code>#</code>-command that are allowed.</p></div></div><div class="decl" id="Mathlib.Linter.HashCommandLinter.hashCommandLinter"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/HashCommandLinter.lean#L64-L77">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/HashCommandLinter.html#Mathlib.Linter.HashCommandLinter.hashCommandLinter"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">HashCommandLinter</span>.<span class="name">hashCommandLinter</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Elab/Command.html#Lean.Elab.Command.Linter">Lean.Linter</a></div></div><p>Checks that no command beginning with <code>#</code> is present in 'Mathlib',
except for the ones in <code>allowed_commands</code>.</p><p>If <code>warningAsError</code> is <code>true</code>, then the linter logs an info (rather than a warning).
This means that CI will eventually fail on <code>#</code>-commands, but does not stop it from continuing.</p><p>However, in order to avoid local clutter, when <code>warningAsError</code> is <code>false</code>, the linter
logs a warning only for the <code>#</code>-commands that do not already emit a message.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Linter.HashCommandLinter.hashCommandLinter" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>