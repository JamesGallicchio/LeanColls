<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Mathlib.Tactic.Linter.TextBased</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Mathlib.Tactic.Linter.TextBased";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Linter</span>.<span class="name">TextBased</span></h2><form action="https://google.com/search" method="get" id="search_form"><input type="hidden" name="sitesearch" value="https://leanprover-community.github.io/mathlib4_docs"></input><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button><button>Google site search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init.html">Init</a></li><li><a href="../../.././Batteries/Data/String/Matcher.html">Batteries.Data.String.Matcher</a></li><li><a href="../../.././Mathlib/Data/Nat/Notation.html">Mathlib.Data.Nat.Notation</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Mathlib.Tactic.Linter.TextBased" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.BroadImports"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">BroadImports</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.instBEqBroadImports"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">instBEqBroadImports</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.StyleError"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">StyleError</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.instBEqStyleError"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">instBEqStyleError</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.ErrorFormat"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">ErrorFormat</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.instBEqErrorFormat"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">instBEqErrorFormat</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.StyleError.errorMessage"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">StyleError</span>.<span class="name">errorMessage</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.StyleError.errorCode"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">StyleError</span>.<span class="name">errorCode</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.ErrorContext"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">ErrorContext</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.ComparisonResult"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">ComparisonResult</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.instBEqComparisonResult"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">instBEqComparisonResult</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.compare"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">compare</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.ErrorContext.find?_comparable"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">ErrorContext</span>.<span class="name">find?_comparable</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.outputMessage"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">outputMessage</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.parse?_errorContext"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">parse?_errorContext</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.parseStyleExceptions"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">parseStyleExceptions</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.formatErrors"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">formatErrors</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.TextbasedLinter"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">TextbasedLinter</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.isCorrectAuthorsLine"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">isCorrectAuthorsLine</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.copyrightHeaderLinter"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">copyrightHeaderLinter</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.adaptationNoteLinter"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">adaptationNoteLinter</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.broadImportsLinter"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">broadImportsLinter</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.isImportsOnlyFile"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">isImportsOnlyFile</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.allLinters"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">allLinters</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.OutputSetting"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">OutputSetting</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.instBEqOutputSetting"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">instBEqOutputSetting</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.lintFile"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">lintFile</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Linter.TextBased.lintModules"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">lintModules</span></a></div></nav><main>
<div class="mod_doc"><h2 class="markdown-heading" id="Text-based-linters">Text-based linters <a class="hover-link" href="#Text-based-linters">#</a></h2><p>This file defines various mathlib linters which are based on reading the source code only.
In practice, all such linters check for code style issues.</p><p>For now, this only contains linters checking</p><ul>
<li>that the copyright header and authors line are correctly formatted</li>
<li>existence of module docstrings (in the right place)</li>
<li>for certain disallowed imports</li>
<li>if the string &quot;adaptation note&quot; is used instead of the command #adaptation_note</li>
<li>files are at most 1500 lines long (unless specifically allowed).</li>
</ul><p>For historic reasons, some of these checks are still written in a Python script <code>lint-style.py</code>:
these are gradually being rewritten in Lean.</p><p>This linter maintains a list of exceptions, for legacy reasons.
Ideally, the length of the list of exceptions tends to 0.</p><p>The <code>longFile</code> and the <code>longLine</code> <em>syntax</em> linter take care of flagging lines that exceed the
100 character limit and files that exceed the 1500 line limit.
The text-based versions of this file are still used for the files where the linter is not imported.
This means that the exceptions for the text-based linters are shorter, as they do not need to
include those handled with <code>set_option linter.style.longFile x</code>/<code>set_option linter.longLine false</code>.</p><p>An executable running all these linters is defined in <code><a href="../../.././scripts/lint-style.html">scripts/lint-style.lean</a></code>.</p></div><div class="decl" id="Mathlib.Linter.TextBased.BroadImports"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L43-L49">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.BroadImports"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">BroadImports</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Different kinds of &quot;broad imports&quot; that are linted against.</p><ul class="constructors"><li class="constructor" id="Mathlib.Linter.TextBased.BroadImports.TacticFolder">TacticFolder: <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.BroadImports">Mathlib.Linter.TextBased.BroadImports</a><div class="inductive_ctor_doc"><p>Importing the entire &quot;Mathlib.Tactic&quot; folder</p></div></li><li class="constructor" id="Mathlib.Linter.TextBased.BroadImports.Lake">Lake: <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.BroadImports">Mathlib.Linter.TextBased.BroadImports</a><div class="inductive_ctor_doc"><p>Importing any module in <code><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.BroadImports.Lake">Lake</a></code>, unless carefully measured
This has caused unexpected regressions in the past.</p></div></li></ul><details id="instances-for-list-Mathlib.Linter.TextBased.BroadImports" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.instBEqBroadImports"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L49-L49">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.instBEqBroadImports"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">instBEqBroadImports</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BEq">BEq</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.BroadImports">Mathlib.Linter.TextBased.BroadImports</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.instBEqBroadImports">Mathlib.Linter.TextBased.instBEqBroadImports</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#_private.Mathlib.Tactic.Linter.TextBased.0.Mathlib.Linter.TextBased.beqBroadImports._@.Mathlib.Tactic.Linter.TextBased._hyg.10">Mathlib.Linter.TextBased.beqBroadImports✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.StyleError"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L53-L65">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.StyleError"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">StyleError</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Possible errors that text-based linters can report.</p><ul class="constructors"><li class="constructor" id="Mathlib.Linter.TextBased.StyleError.copyright">copyright: <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Init/Prelude.html#String">String</a></span> → <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.StyleError">Mathlib.Linter.TextBased.StyleError</a></span><div class="inductive_ctor_doc"><p>Missing or malformed copyright header.
Unlike in the python script, we may provide some context on the actual error.</p></div></li><li class="constructor" id="Mathlib.Linter.TextBased.StyleError.authors">authors: <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.StyleError">Mathlib.Linter.TextBased.StyleError</a><div class="inductive_ctor_doc"><p>Malformed authors line in the copyright header</p></div></li><li class="constructor" id="Mathlib.Linter.TextBased.StyleError.adaptationNote">adaptationNote: <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.StyleError">Mathlib.Linter.TextBased.StyleError</a><div class="inductive_ctor_doc"><p>The bare string &quot;Adaptation note&quot; (or variants thereof): instead, the
#adaptation_note command should be used.</p></div></li><li class="constructor" id="Mathlib.Linter.TextBased.StyleError.broadImport">broadImport: <span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.BroadImports">Mathlib.Linter.TextBased.BroadImports</a> → <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.StyleError">Mathlib.Linter.TextBased.StyleError</a></span><div class="inductive_ctor_doc"><p>Lint against &quot;too broad&quot; imports, such as <code>Mathlib.Tactic</code> or any module in <code><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.BroadImports.Lake">Lake</a></code>
(unless carefully measured)</p></div></li></ul><details id="instances-for-list-Mathlib.Linter.TextBased.StyleError" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.instBEqStyleError"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L65-L65">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.instBEqStyleError"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">instBEqStyleError</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BEq">BEq</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.StyleError">Mathlib.Linter.TextBased.StyleError</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.instBEqStyleError">Mathlib.Linter.TextBased.instBEqStyleError</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#_private.Mathlib.Tactic.Linter.TextBased.0.Mathlib.Linter.TextBased.beqStyleError._@.Mathlib.Tactic.Linter.TextBased._hyg.49">Mathlib.Linter.TextBased.beqStyleError✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.ErrorFormat"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L68-L77">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorFormat"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">ErrorFormat</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>How to format style errors</p><ul class="constructors"><li class="constructor" id="Mathlib.Linter.TextBased.ErrorFormat.humanReadable">humanReadable: <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorFormat">Mathlib.Linter.TextBased.ErrorFormat</a><div class="inductive_ctor_doc"><p>Produce style error output aimed at humans: no error code, clickable file name</p></div></li><li class="constructor" id="Mathlib.Linter.TextBased.ErrorFormat.exceptionsFile">exceptionsFile: <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorFormat">Mathlib.Linter.TextBased.ErrorFormat</a><div class="inductive_ctor_doc"><p>Produce an entry in the style-exceptions file: mention the error code, slightly uglier
than humand-readable output</p></div></li><li class="constructor" id="Mathlib.Linter.TextBased.ErrorFormat.github">github: <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorFormat">Mathlib.Linter.TextBased.ErrorFormat</a><div class="inductive_ctor_doc"><p>Produce output suitable for Github error annotations: in particular,
duplicate the file path, line number and error code</p></div></li></ul><details id="instances-for-list-Mathlib.Linter.TextBased.ErrorFormat" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.instBEqErrorFormat"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L77-L77">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.instBEqErrorFormat"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">instBEqErrorFormat</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BEq">BEq</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorFormat">Mathlib.Linter.TextBased.ErrorFormat</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.instBEqErrorFormat">Mathlib.Linter.TextBased.instBEqErrorFormat</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#_private.Mathlib.Tactic.Linter.TextBased.0.Mathlib.Linter.TextBased.beqErrorFormat._@.Mathlib.Tactic.Linter.TextBased._hyg.158">Mathlib.Linter.TextBased.beqErrorFormat✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.StyleError.errorMessage"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L80-L92">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.StyleError.errorMessage"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">StyleError</span>.<span class="name">errorMessage</span></a></span><span class="decl_args">
<span class="fn">(err : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.StyleError">Mathlib.Linter.TextBased.StyleError</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#String">String</a></div></div><p>Create the underlying error message for a given <code><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.StyleError">StyleError</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Linter.TextBased.StyleError.errorMessage" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.StyleError.errorCode"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L97-L101">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.StyleError.errorCode"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">StyleError</span>.<span class="name">errorCode</span></a></span><span class="decl_args">
<span class="fn">(err : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.StyleError">Mathlib.Linter.TextBased.StyleError</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#String">String</a></div></div><p>The error code for a given style error. Keep this in sync with <code><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.parse?_errorContext">parse?_errorContext</a></code> below!</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Linter.TextBased.StyleError.errorCode" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.ErrorContext"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L105-L111">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorContext"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">ErrorContext</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Context for a style error: the actual error, the line number in the file we're reading
and the path to the file.</p><ul class="structure_fields" id="Mathlib.Linter.TextBased.ErrorContext.mk"><li id="Mathlib.Linter.TextBased.ErrorContext.error" class="structure_field"><div class="structure_field_info">error : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.StyleError">Mathlib.Linter.TextBased.StyleError</a></div><div class="structure_field_doc"><p>The underlying <code><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.StyleError">StyleError</a></code></p></div></li><li id="Mathlib.Linter.TextBased.ErrorContext.lineNumber" class="structure_field"><div class="structure_field_info">lineNumber : <a href="../../.././Init/Prelude.html#Nat">ℕ</a></div><div class="structure_field_doc"><p>The line number of the error (1-based)</p></div></li><li id="Mathlib.Linter.TextBased.ErrorContext.path" class="structure_field"><div class="structure_field_info">path : <a href="../../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a></div><div class="structure_field_doc"><p>The path to the file which was linted</p></div></li></ul><details id="instances-for-list-Mathlib.Linter.TextBased.ErrorContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.ComparisonResult"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L116-L125">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ComparisonResult"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">ComparisonResult</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Possible results of comparing an <code><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorContext">ErrorContext</a></code> to an <code>existing</code> entry:
most often, they are different --- if the existing entry covers the new exception,
depending on the error, we prefer the new or the existing entry.</p><ul class="constructors"><li class="constructor" id="Mathlib.Linter.TextBased.ComparisonResult.Different">Different: <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ComparisonResult">Mathlib.Linter.TextBased.ComparisonResult</a><div class="inductive_ctor_doc"><p>The contexts describe different errors: two separate style exceptions are required
to cover both.</p></div></li><li class="constructor" id="Mathlib.Linter.TextBased.ComparisonResult.Comparable">Comparable: <span class="fn"><a href="../../.././Init/Prelude.html#Bool">Bool</a> → <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ComparisonResult">Mathlib.Linter.TextBased.ComparisonResult</a></span><div class="inductive_ctor_doc"><p>The existing exception also covers the new error.
Indicate whether we prefer keeping the existing exception (the more common case)
or would rather replace it by the new exception
(this is more rare, and currently only happens for particular file length errors).</p></div></li></ul><details id="instances-for-list-Mathlib.Linter.TextBased.ComparisonResult" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.instBEqComparisonResult"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L125-L125">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.instBEqComparisonResult"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">instBEqComparisonResult</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BEq">BEq</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ComparisonResult">Mathlib.Linter.TextBased.ComparisonResult</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.instBEqComparisonResult">Mathlib.Linter.TextBased.instBEqComparisonResult</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#_private.Mathlib.Tactic.Linter.TextBased.0.Mathlib.Linter.TextBased.beqComparisonResult._@.Mathlib.Tactic.Linter.TextBased._hyg.319">Mathlib.Linter.TextBased.beqComparisonResult✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.compare"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L129-L143">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.compare"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">compare</span></a></span><span class="decl_args">
<span class="fn">(existing : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorContext">Mathlib.Linter.TextBased.ErrorContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(new : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorContext">Mathlib.Linter.TextBased.ErrorContext</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ComparisonResult">Mathlib.Linter.TextBased.ComparisonResult</a></div></div><p>Determine whether a <code>new</code> <code><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorContext">ErrorContext</a></code> is covered by an <code>existing</code> exception,
and, if it is, if we prefer replacing the new exception or keeping the previous one.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Linter.TextBased.compare" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.ErrorContext.find?_comparable"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L146-L148">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorContext.find?_comparable"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">ErrorContext</span>.<span class="name">find?_comparable</span></a></span><span class="decl_args">
<span class="fn">(e : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorContext">Mathlib.Linter.TextBased.ErrorContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(exceptions : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorContext">Mathlib.Linter.TextBased.ErrorContext</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorContext">Mathlib.Linter.TextBased.ErrorContext</a></span></div></div><p>Find the first style exception in <code>exceptions</code> (if any) which covers a style exception <code>e</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Linter.TextBased.ErrorContext.find?_comparable" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.outputMessage"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L153-L168">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.outputMessage"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">outputMessage</span></a></span><span class="decl_args">
<span class="fn">(errctx : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorContext">Mathlib.Linter.TextBased.ErrorContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(style : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorFormat">Mathlib.Linter.TextBased.ErrorFormat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#String">String</a></div></div><p>Output the formatted error message, containing its context.
<code>style</code> specifies if the error should be formatted for humans to read, github problem matchers
to consume, or for the style exceptions file.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Linter.TextBased.outputMessage" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.parse?_errorContext"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L171-L200">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.parse?_errorContext"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">parse?_errorContext</span></a></span><span class="decl_args">
<span class="fn">(line : <a href="../../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorContext">Mathlib.Linter.TextBased.ErrorContext</a></span></div></div><p>Try parsing an <code><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorContext">ErrorContext</a></code> from a string: return <code>some</code> if successful, <code>none</code> otherwise.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Linter.TextBased.parse?_errorContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.parseStyleExceptions"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L204-L206">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.parseStyleExceptions"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">parseStyleExceptions</span></a></span><span class="decl_args">
<span class="fn">(lines : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#String">String</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorContext">Mathlib.Linter.TextBased.ErrorContext</a></span></div></div><p>Parse all style exceptions for a line of input.
Return an array of all exceptions which could be parsed: invalid input is ignored.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Linter.TextBased.parseStyleExceptions" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.formatErrors"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L211-L213">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.formatErrors"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">formatErrors</span></a></span><span class="decl_args">
<span class="fn">(errors : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorContext">Mathlib.Linter.TextBased.ErrorContext</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(style : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorFormat">Mathlib.Linter.TextBased.ErrorFormat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Print information about all errors encountered to standard output.
<code>style</code> specifies if the error should be formatted for humans to read, github problem matchers
to consume, or for the style exceptions file.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Linter.TextBased.formatErrors" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.TextbasedLinter"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L217-L217">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.TextbasedLinter"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">TextbasedLinter</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Core logic of a text based linter: given a collection of lines,
return an array of all style errors with line numbers.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.TextbasedLinter">Mathlib.Linter.TextBased.TextbasedLinter</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">(<span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#String">String</a></span> → <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.StyleError">Mathlib.Linter.TextBased.StyleError</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>)</span></span></li></ul></details><details id="instances-for-list-Mathlib.Linter.TextBased.TextbasedLinter" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><p>Definitions of the actual text-based linters.</p></div><div class="decl" id="Mathlib.Linter.TextBased.isCorrectAuthorsLine"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L223-L228">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.isCorrectAuthorsLine"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">isCorrectAuthorsLine</span></a></span><span class="decl_args">
<span class="fn">(line : <a href="../../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Return if <code>line</code> looks like a correct authors line in a copyright header.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.isCorrectAuthorsLine">Mathlib.Linter.TextBased.isCorrectAuthorsLine</a> <span class="fn">line</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">(<span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">line</span>.startsWith</span> <span class="fn">&quot;Authors: &quot;</span></span> <a href="../../.././Init/Prelude.html#and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#not">!</a><span class="fn"><span class="fn"><span class="fn">line</span>.containsSubstr</span> <span class="fn"><span class="fn">&quot;  &quot;</span>.toSubstring</span></span></span></span> <a href="../../.././Init/Prelude.html#and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#not">!</a><span class="fn"><span class="fn"><span class="fn">line</span>.containsSubstr</span> <span class="fn"><span class="fn">&quot; and &quot;</span>.toSubstring</span></span></span></span> <a href="../../.././Init/Prelude.html#and">&amp;&amp;</a>     <span class="fn"><a href="../../.././Init/Prelude.html#not">!</a><span class="fn"><span class="fn"><span class="fn">line</span>.endsWith</span> <span class="fn">&quot;.&quot;</span></span></span>)</span></span></li></ul></details><details id="instances-for-list-Mathlib.Linter.TextBased.isCorrectAuthorsLine" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.copyrightHeaderLinter"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L235-L266">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.copyrightHeaderLinter"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">copyrightHeaderLinter</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.TextbasedLinter">Mathlib.Linter.TextBased.TextbasedLinter</a></div></div><p>Lint a collection of input lines if they are missing an appropriate copyright header.</p><p>A copyright header should start at the very beginning of the file and contain precisely five lines,
including the copy year and holder, the license and main author(s) of the file (in this order).</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Linter.TextBased.copyrightHeaderLinter" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.adaptationNoteLinter"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L269-L277">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.adaptationNoteLinter"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">adaptationNoteLinter</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.TextbasedLinter">Mathlib.Linter.TextBased.TextbasedLinter</a></div></div><p>Lint on any occurrences of the string &quot;Adaptation note:&quot; or variants thereof.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Linter.TextBased.adaptationNoteLinter" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.broadImportsLinter"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L280-L305">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.broadImportsLinter"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">broadImportsLinter</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.TextbasedLinter">Mathlib.Linter.TextBased.TextbasedLinter</a></div></div><p>Lint a collection of input strings if one of them contains an unnecessarily broad import.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Linter.TextBased.broadImportsLinter" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.isImportsOnlyFile"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L310-L313">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.isImportsOnlyFile"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">isImportsOnlyFile</span></a></span><span class="decl_args">
<span class="fn">(lines : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#String">String</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Whether a collection of lines consists <em>only</em> of imports, blank lines and single-line comments.
In practice, this means it's an imports-only file and exempt from almost all linting.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.isImportsOnlyFile">Mathlib.Linter.TextBased.isImportsOnlyFile</a> <span class="fn">lines</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn">lines</span>.all</span> <span class="fn">fun (<span class="fn">line</span> : <a href="../../.././Init/Prelude.html#String">String</a>) =&gt; <span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">line</span>.startsWith</span> <span class="fn">&quot;import &quot;</span></span> <a href="../../.././Init/Prelude.html#or">||</a> <span class="fn"><span class="fn">line</span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">&quot;&quot;</span></span></span> <a href="../../.././Init/Prelude.html#or">||</a> <span class="fn"><span class="fn"><span class="fn">line</span>.startsWith</span> <span class="fn">&quot;-- &quot;</span></span></span></span></span></span></li></ul></details><details id="instances-for-list-Mathlib.Linter.TextBased.isImportsOnlyFile" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.allLinters"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L318-L320">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.allLinters"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">allLinters</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.TextbasedLinter">Mathlib.Linter.TextBased.TextbasedLinter</a></span></div></div><p>All text-based linters registered in this file.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.allLinters">Mathlib.Linter.TextBased.allLinters</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">#[<a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.copyrightHeaderLinter">Mathlib.Linter.TextBased.copyrightHeaderLinter</a>, <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.adaptationNoteLinter">Mathlib.Linter.TextBased.adaptationNoteLinter</a>,
    <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.broadImportsLinter">Mathlib.Linter.TextBased.broadImportsLinter</a>]</span></span></li></ul></details><details id="instances-for-list-Mathlib.Linter.TextBased.allLinters" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.OutputSetting"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L323-L332">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.OutputSetting"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">OutputSetting</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Controls what kind of output this programme produces.</p><ul class="constructors"><li class="constructor" id="Mathlib.Linter.TextBased.OutputSetting.print">print: <span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorFormat">Mathlib.Linter.TextBased.ErrorFormat</a> → <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.OutputSetting">Mathlib.Linter.TextBased.OutputSetting</a></span><div class="inductive_ctor_doc"><p>Print any style error to standard output (the default)</p></div></li><li class="constructor" id="Mathlib.Linter.TextBased.OutputSetting.update">update: <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.OutputSetting">Mathlib.Linter.TextBased.OutputSetting</a><div class="inductive_ctor_doc"><p>Update the style exceptions file (and still print style errors to standard output).
This adds entries for any new exceptions, removes any entries which are no longer necessary,
and tries to not modify exception entries unless necessary.
To fully regenerate the exceptions file, delete <code>style-exceptions.txt</code> and run again in this mode.</p></div></li></ul><details id="instances-for-list-Mathlib.Linter.TextBased.OutputSetting" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.instBEqOutputSetting"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L332-L332">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.instBEqOutputSetting"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">instBEqOutputSetting</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BEq">BEq</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.OutputSetting">Mathlib.Linter.TextBased.OutputSetting</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.instBEqOutputSetting">Mathlib.Linter.TextBased.instBEqOutputSetting</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#_private.Mathlib.Tactic.Linter.TextBased.0.Mathlib.Linter.TextBased.beqOutputSetting._@.Mathlib.Tactic.Linter.TextBased._hyg.2329">Mathlib.Linter.TextBased.beqOutputSetting✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.lintFile"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L336-L348">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.lintFile"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">lintFile</span></a></span><span class="decl_args">
<span class="fn">(path : <a href="../../.././Init/System/FilePath.html#System.FilePath">System.FilePath</a>)</span></span>
<span class="decl_args">
<span class="fn">(exceptions : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorContext">Mathlib.Linter.TextBased.ErrorContext</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.ErrorContext">Mathlib.Linter.TextBased.ErrorContext</a>)</span></span></div></div><p>Read a file and apply all text-based linters. Return a list of all unexpected errors.
<code>exceptions</code> are any pre-existing style exceptions for this file.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Linter.TextBased.lintFile" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Linter.TextBased.lintModules"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/20c73142afa995ac9c8fb80a9bb585a55ca38308/Mathlib/Tactic/Linter/TextBased.lean#L357-L409">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.lintModules"><span class="name">Mathlib</span>.<span class="name">Linter</span>.<span class="name">TextBased</span>.<span class="name">lintModules</span></a></span><span class="decl_args">
<span class="fn">(moduleNames : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#String">String</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(mode : <a href="../../.././Mathlib/Tactic/Linter/TextBased.html#Mathlib.Linter.TextBased.OutputSetting">Mathlib.Linter.TextBased.OutputSetting</a>)</span></span>
<span class="decl_args">
<span class="fn">(fix : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/System/IO.html#IO">IO</a> <a href="../../.././Init/Prelude.html#UInt32">UInt32</a></span></div></div><p>Lint a collection of modules for style violations.
Print formatted errors for all unexpected style violations to standard output;
update the list of style exceptions if configured so.
Return the number of files which had new style errors.
<code>moduleNames</code> are all the modules to lint,
<code>mode</code> specifies what kind of output this script should produce,
<code>fix</code> configures whether fixable errors should be corrected in-place.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Linter.TextBased.lintModules" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>